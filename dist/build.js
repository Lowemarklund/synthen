/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

eval("const Sequencer = __webpack_require__(1)\n\nlet newSequencer = new Sequencer()\n\nnewSequencer._synth._sequencer = newSequencer\n\ndocument.querySelector('body').insertBefore(newSequencer._synth, document.querySelector('body').children[0])\ndocument.querySelector('body').insertBefore(newSequencer, document.querySelector('body').children[0])\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanM/MzMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTZXF1ZW5jZXIgPSByZXF1aXJlKCcuL3NlcXVlbmNlcicpXG5cbmxldCBuZXdTZXF1ZW5jZXIgPSBuZXcgU2VxdWVuY2VyKClcblxubmV3U2VxdWVuY2VyLl9zeW50aC5fc2VxdWVuY2VyID0gbmV3U2VxdWVuY2VyXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5pbnNlcnRCZWZvcmUobmV3U2VxdWVuY2VyLl9zeW50aCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNoaWxkcmVuWzBdKVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmluc2VydEJlZm9yZShuZXdTZXF1ZW5jZXIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jaGlsZHJlblswXSlcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL2FwcC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Webcomponent for creating a grid sequencer application.\n *\n * @module src/desktop.js\n * @author Lowe Marklund\n * @version 1.2\n */\n\nconst Synth = __webpack_require__(2)\nconst SequencerTemplate = __webpack_require__(4)\nconst template = SequencerTemplate.template\n\n/**\n * A grid sequencer.\n *\n * @class Sequencer\n * @extends {window.HTMLElement}\n */\n\nclass Sequencer extends window.HTMLElement {\n  /**\n   * Creates an instance of Memory .\n   * @memberof Sequencer\n   */\n  constructor () {\n    super()\n    this.attachShadow({mode: 'open'})\n    this.shadowRoot.appendChild(template.content.cloneNode(true))\n    this._sequencer = this.shadowRoot.querySelector('.sequencer')\n    this._instrumentLog = this.shadowRoot.querySelector('.instrumentLog')\n    this._inputs = this.shadowRoot.querySelector('.inputs')\n    this._grid = this.shadowRoot.querySelector('.grid')\n    this._pausePlayButton = this.shadowRoot.querySelector('.pausePlayButton')\n    this._bpmLog = this.shadowRoot.querySelector('.bpmLog')\n    this._bpmInput = this.shadowRoot.querySelector('.bpmInput')\n    this._loopLengthLog = this.shadowRoot.querySelector('.loopLengthLog')\n    this._loopLengthInput = this.shadowRoot.querySelector('.loopLengthInput')\n    this._cells = this._grid.querySelectorAll('.cell')\n    this._cellColumns = null\n    this._storedGrid = null\n    this._click = null\n    this._tempo = 150\n    this._trackSamples = {\n      '1': document.createElement('audio'),\n      '2': document.createElement('audio'),\n      '3': document.createElement('audio'),\n      '4': document.createElement('audio'),\n      '5': document.createElement('audio'),\n      '6': document.createElement('audio'),\n      '7': document.createElement('audio'),\n      '8': document.createElement('audio')\n    }\n    this._drumImages = {\n      'kicks': '/image/kicks.png',\n      'snares': '/image/snares.png',\n      'hihats': '/image/hi-hats.png',\n      'toms': '/image/toms.png',\n      'cymbals': '/image/cymbals.png',\n      'percussion': '/image/percussion.png',\n      'claps': '/image/claps.png',\n      'cowbells': '/image/cowbells.png',\n      'synths': '/image/synths.png'\n    }\n    this._trackInstrument = {\n      1: 'kicks',\n      2: 'snares',\n      3: 'hihats',\n      4: 'toms',\n      5: 'cymbals',\n      6: 'percussion',\n      7: 'claps',\n      8: 'synths'\n    }\n    this._hasFocus = false\n    this._synth = new Synth()\n    this._isPlaying = false\n  }\n  /**\n   * Watches attributes for changes on the element.\n   *\n   * @readonly\n   * @static\n   * @memberof Sequencer\n   */\n  static get observedAttributes () {\n    return ['looplength', 'currentbeat']\n  }\n\n  /**\n   * Called by the browser engine when an attribute changes.\n   *\n   * @param {string} attributeName\n   * @param {string} oldValue\n   * @param {string} newValue\n   * @memberof Sequencer\n   */\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    // re-renders grid when loop length is changed\n    if (attributeName === 'looplength' && oldValue !== null) {\n      this.storeGrid()\n      this.removeGrid()\n      this.renderGrid(this.getAttribute('instrument'))\n      this.loadStoredGrid()\n      clearInterval(this._click)\n      if (this._sequencer.getElementsByClassName('pausePlayButton')[0].getAttribute('type') === 'pause') {\n        if (Number(newValue) < Number(this.getAttribute('currentbeat'))) {\n          this.setAttribute('currentbeat', '0')\n        }\n        // syncs with other sequencers\n        this.timeSync()\n      }\n    }\n  }\n    /**\n   * Called when the element is connected to the DOM.\n   *\n   * @memberof Sequencer\n   */\n  connectedCallback () {\n    this.setAttribute('looplength', '16')\n    this.renderGrid()\n    this.inputListen()\n    this._trackSamples['1'].src = '/audio/drums/kicks/1.wav'\n    this._trackSamples['2'].src = '/audio/drums/snares/1.wav'\n    this._trackSamples['3'].src = '/audio/drums/hihats/1.wav'\n    this._trackSamples['4'].src = '/audio/drums/toms/1.wav'\n    this._trackSamples['5'].src = '/audio/drums/cymbals/1.wav'\n    this._trackSamples['6'].src = '/audio/drums/percussion/1.wav'\n    this._trackSamples['7'].src = '/audio/drums/claps/1.wav'\n  }\n\n     /**\n   * Listens after input from the user.\n   *\n   * @memberof Sequencer\n   */\n  inputListen () {\n    this._sequencer.addEventListener('mousedown', event => {\n      // activates/deactivates cell\n      if (event.target.getAttribute('class') === 'cell' && event.shiftKey === false) {\n        if (event.target.getAttribute('active') === 'false') {\n          this.cellActivate(event.target, true)\n        } else {\n          this.cellDeactivate(event.target)\n        }\n      }\n      if (event.target.getAttribute('class') === 'cell' && event.target.getAttribute('active') === 'true' && event.shiftKey === true) {\n        this.cellActivate(event.target, true, true)\n      }\n\n      // pauses and plays the sequencer(s)\n      if (event.target.getAttribute('class') === 'pausePlayButton') {\n        if (event.target.getAttribute('type') === 'play') {\n          // syncs with other sequencers\n          this.timeSync()\n          this._isPlaying = true\n        } else {\n          for (let i = 0; i < this.parentNode.parentNode.querySelectorAll('grid-sequencer').length; i++) {\n            clearInterval(this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._click)\n            this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('type', 'play')\n            this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('src', '/image/icons8-play-button-50.png')\n            this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._isPlaying = false\n          }\n        }\n      }\n        // changes sample of the track\n      if (event.target.getAttribute('class') === 'instrumentIcon') {\n        // changes drumtype\n        let currentInstrument = Number(event.target.getAttribute('type'))\n        let drumTypes = ['kicks', 'snares', 'hihats', 'toms', 'cymbals', 'percussion', 'claps', 'cowbells', 'synths']\n        let nextIcon\n\n        if (Number(event.target.getAttribute('type')) + 1 > 8) {\n          nextIcon = 0\n          event.target.setAttribute('src', this._drumImages[drumTypes[nextIcon]])\n          event.target.setAttribute('type', [`${nextIcon}`])\n          event.target.nextSibling.innerText = '1'\n          this._trackSamples[event.target.nextSibling.nextSibling.getAttribute('row')].src = `/audio/drums/${drumTypes[0]}/1.wav`\n          this._trackInstrument[event.target.nextSibling.nextSibling.getAttribute('row')] = drumTypes[nextIcon]\n        } else {\n          nextIcon = Number(event.target.getAttribute('type')) + 1\n          event.target.setAttribute('src', this._drumImages[drumTypes[nextIcon]])\n          event.target.setAttribute('type', [`${nextIcon}`])\n          event.target.nextSibling.innerText = '1'\n          this._trackSamples[event.target.nextSibling.nextSibling.getAttribute('row')].src = `/audio/drums/${drumTypes[currentInstrument + 1]}/1.wav`\n          this._trackInstrument[event.target.nextSibling.nextSibling.getAttribute('row')] = drumTypes[nextIcon]\n        }\n      }\n      if (event.target.getAttribute('class') === 'instrumentNumber') {\n        // changes sample number\n        let currentInstrument = Number(event.target.previousSibling.getAttribute('type'))\n        let instrumentTypeSampleAmount = {kicks: 26, snares: 23, hihats: 15, toms: 9, cymbals: 4, percussion: 13, claps: 6, cowbells: 1}\n        let nextSample = Number(event.target.innerText) + 1\n\n        if (nextSample > instrumentTypeSampleAmount[Object.keys(instrumentTypeSampleAmount)[currentInstrument]]) {\n          event.target.innerText = '1'\n        } else {\n          event.target.innerText = nextSample\n          this._trackSamples[event.target.nextSibling.getAttribute('row')].src = `/audio/drums/${Object.keys(instrumentTypeSampleAmount)[currentInstrument]}/${nextSample}.wav`\n        }\n      }\n\n      // clears the grid\n      if (event.target.getAttribute('class') === 'clearButton') {\n        this.clearGrid()\n      }\n    })\n\n    this._inputs.addEventListener('keydown', event => {\n      if (event.key === 'Enter') {\n            // Changes the loop length to what the user has entered\n        if (event.target.getAttribute('class') === 'loopLengthInput') {\n               // Error handling\n          if (Number(event.target.value) <= 32 && Number(event.target.value) > 0) {\n            this.setAttribute('looplength', event.target.value)\n\n            this._loopLengthLog.innerText = 'Length: ' + event.target.value\n            event.target.setAttribute('placeholder', 'Enter loop length (max = 32 min = 1)')\n            event.target.value = null\n            event.target.blur()\n          } if (Number(event.target.value) > 32 || Number(event.target.value) < 0 || isNaN(Number(event.target.value)) === true) {\n            event.target.setAttribute('placeholder', 'Value must be an integer between 1 and 32')\n            event.target.value = null\n            event.target.blur()\n          }\n        }\n            // Changes the tempo to what the user has entered\n        if (event.target.getAttribute('class') === 'bmpInput') {\n          let input = Number(event.target.value)\n            // Error handling\n          if (input <= 300 && input >= 30) {\n            for (let i = 0; i < this.parentNode.parentNode.querySelectorAll('grid-sequencer').length; i++) {\n              this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._bpmLog.innerText = 'BPM: ' + event.target.value\n            }\n            this._tempo = input\n            event.target.setAttribute('placeholder', 'Enter tempo (BPM) max = 300 min = 30')\n            event.target.value = null\n            event.target.blur()\n          }\n\n          // syncs with other sequencers\n          if (this._sequencer.getElementsByClassName('pausePlayButton')[0].getAttribute('type') === 'pause' && isNaN(input) === false) {\n            this.timeSync()\n          }\n\n          if (isNaN(input) === true || input < 30 || input >= 300) {\n            event.target.setAttribute('placeholder', 'Value must be an integer between 30 and 3')\n            event.target.value = null\n            event.target.blur()\n          }\n        }\n      }\n    })\n  }\n    /**\n   * Renders grid of the sequencer\n   *\n   * @memberof Sequencer\n   */\n  renderGrid () {\n    let column = 0\n    let row = 1\n    let loopLength = Number(this.getAttribute('looplength'))\n    let maxRows = 8\n\n    for (let i = 0; i < loopLength * 9; i++) {\n      if (i === 0) {\n        let instrumentType = document.createElement('img')\n        let instrumentNumber = document.createElement('h6')\n        instrumentType.setAttribute('src', this._drumImages[this._trackInstrument[row]])\n        instrumentType.setAttribute('type', `${row - 1}`)\n        instrumentType.setAttribute('class', 'instrumentIcon')\n        instrumentNumber.setAttribute('class', 'instrumentNumber')\n        instrumentNumber.innerText = '1'\n        this._grid.appendChild(instrumentType)\n        this._grid.appendChild(instrumentNumber)\n      }\n\n      let cell = document.createElement('img')\n      column += 1\n      cell.setAttribute('active', `false`)\n      cell.setAttribute('id', `${i}`)\n      cell.setAttribute('class', `cell`)\n      cell.setAttribute('column', `${column}`)\n      cell.setAttribute('row', `${row}`)\n      cell.setAttribute('note', 'C')\n      cell.setAttribute('octave', '3')\n      cell.setAttribute('noteLength', '100')\n      cell.setAttribute('notemenuopen', 'false')\n      cell.setAttribute('chosen', 'false')\n      this._grid.appendChild(cell)\n\n      if (column === loopLength) {\n        let rowBreak = document.createElement('br')\n        let instrumentType = document.createElement('img')\n        let instrumentNumber = document.createElement('h6')\n        instrumentType.setAttribute('src', this._drumImages[this._trackInstrument[row + 1]])\n        instrumentType.setAttribute('type', `${row}`)\n        instrumentType.setAttribute('class', 'instrumentIcon')\n        instrumentNumber.setAttribute('class', 'instrumentNumber')\n        instrumentNumber.innerText = '1'\n        this._grid.appendChild(rowBreak)\n        this._grid.appendChild(instrumentType)\n        this._grid.appendChild(instrumentNumber)\n\n        column = 0\n        row += 1\n      }\n\n      if (row > maxRows) {\n        this._cells = this._grid.querySelectorAll('.cell')\n        this._grid.removeChild(this._grid.querySelectorAll('.instrumentIcon')[(this._grid.querySelectorAll('.instrumentIcon').length) - 1])\n        this._grid.removeChild(this._grid.querySelectorAll('.instrumentNumber')[(this._grid.querySelectorAll('.instrumentNumber').length) - 1])\n        this._cellColumns = column\n        if (loopLength > 16) {\n          this._sequencer.style.width = `${loopLength * 31}px`\n        } else {\n          this._sequencer.style.width = '500px'\n        }\n        return\n      }\n    }\n  }\n     /**\n   * Removes grid of the sequencer\n   *\n   * @memberof Sequencer\n   */\n  removeGrid () {\n    let gridLength = this._grid.children.length\n    for (let i = 0; i < gridLength; i++) {\n      this._grid.removeChild(this._grid.firstElementChild)\n    }\n  }\n   /**\n   * Deactivates all cells of the sequencer\n   *\n   * @memberof Sequencer\n   */\n  clearGrid () {\n    let gridLength = this._cells.length\n\n    for (let i = 0; i < gridLength; i++) {\n      this.cellDeactivate(this._cells[i])\n      if (this._pausePlayButton.getAttribute('type') === 'pause') {\n        for (let i = 0; i < this.parentNode.parentNode.querySelectorAll('grid-sequencer').length; i++) {\n          clearInterval(this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._click)\n          this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i].playGrid()\n        }\n      }\n    }\n  }\n    /**\n   * Stores a map of the sequencers activated cells\n   *\n   * @memberof Sequencer\n   */\n  storeGrid () {\n    let grid = {}\n\n    for (let i = 1; i <= 8; i++) {\n      grid[i] = []\n    }\n\n    for (let i = 0; i < this._cells.length; i++) {\n      if (this._cells[i].getAttribute('active') === 'true') {\n        grid[Number(this._cells[i].getAttribute('row'))].push(this._cells[i].getAttribute('column'))\n      }\n    }\n    this._storedGrid = grid\n  }\n   /**\n   * Loads a map of activated cells into the sequencer\n   *\n   * @memberof Sequencer\n   */\n  loadStoredGrid () {\n    for (let i = 0; i < this._cells.length; i++) {\n      if (this._cells[i].getAttribute('column') === this.getAttribute('currentbeat') && this._cells[i].getAttribute('chosen') === 'false') {\n        this._cells[i].style.backgroundColor = 'red'\n      }\n\n      for (let i2 = 0; i2 < this._storedGrid[Number(this._cells[i].getAttribute('row'))].length; i2++) {\n        if (this._storedGrid[Number(this._cells[i].getAttribute('row'))][i2] === this._cells[i].getAttribute('column')) {\n          this.cellActivate(this._cells[i])\n        }\n      }\n    }\n  }\n   /**\n   * Plays the sequencer\n   *\n   * @param {string} beat - The grid column to start playing at\n   * @param {number} tempo - The tempo to play at\n   * @return {function} - An interval creating each beat of the sequencer\n   * @memberof Sequencer\n   */\n  playGrid (beat = this.getAttribute('currentbeat'), tempo = this._tempo) {\n    let column = Number(beat)\n    let cells = this._grid.querySelectorAll('.cell')\n\n    let click = setInterval(() => {\n      for (let i = 0; i < cells.length; i += 1) {\n        if (Number(cells[i].getAttribute('column')) === column) {\n          if (this._cells[i].getAttribute('chosen') === 'false') {\n            cells[i].style.backgroundColor = 'red'\n          }\n\n          this.setAttribute('currentbeat', column)\n\n          if (i > 0 && cells[i - 1].getAttribute('active') === 'false') {\n            this.cellDeactivate(cells[i - 1])\n          }\n          if (cells[i].getAttribute('active') === 'true') {\n            if (this._trackInstrument[cells[i].getAttribute('row')] === 'synths') {\n              let note = cells[i].getAttribute('note')\n              let octave = Number(cells[i].getAttribute('octave'))\n              let frequency = this._synth._noteFreq[octave][note]\n              let key = this._synth.createKey(note, octave, frequency, note + `${octave}`)\n              this._synth.notePressed(key, note + `${octave}`, cells[i])\n            }\n\n            this._trackSamples[cells[i].getAttribute('row')].pause()\n            this._trackSamples[cells[i].getAttribute('row')].currentTime = 0\n            let playPromise = this._trackSamples[cells[i].getAttribute('row')].play()\n            playPromise.then(_ => {\n\n            }).catch(error => {\n\n            })\n          } else {\n            this.cellDeactivate(cells[(cells.length) - 1])\n          }\n        }\n        if (cells[i].getAttribute('active') === 'true' && cells[i].getAttribute('chosen') === 'false') {\n          this.cellActivate(cells[i], false)\n        }\n      }\n\n      if (column >= Number(this.getAttribute('looplength'))) {\n        column = 1\n      } else {\n        column += 1\n      }\n    }, (60000 / tempo) / 4)\n\n    this._click = click\n  }\n  /**\n   * Syncs all the sequencers open on the desktop to start/stop at the same time\n   *\n   * @memberof Sequencer\n   */\n  timeSync () {\n    for (let i = 0; i < this.parentNode.parentNode.querySelectorAll('grid-sequencer').length; i++) {\n      clearInterval(this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._click)\n      let currentBeat = this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i].getAttribute('currentbeat')\n      this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i].playGrid(currentBeat, this._tempo)\n      this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._bpmLog.innerText = `BPM: ${this._tempo}`\n      if (this._pausePlayButton.getAttribute('type') === 'play') {\n        this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('type', 'pause')\n        this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('src', '/image/icons8-pause-button-50.png')\n      } else {\n        this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('type', 'pause')\n        this.parentNode.parentNode.querySelectorAll('grid-sequencer')[i]._pausePlayButton.setAttribute('src', '/image/icons8-pause-button-50.png')\n      }\n    }\n  }\n  /**\n   * Activates a cell in the grid\n   *\n   * @memberof Sequencer\n   */\n  cellDeactivate (cell) {\n    cell.setAttribute('active', 'false')\n    cell.style.backgroundColor = 'white'\n  }\n  /**\n   * Deactivates a cell in the grid\n   *\n   * @memberof Sequencer\n   */\n  cellActivate (cell, cellClicked, shiftClick) {\n    cell.setAttribute('active', 'true')\n    cell.style.backgroundColor = 'yellow'\n\n    if (cellClicked === true) {\n      cell.style.backgroundColor = 'green'\n      cell.setAttribute('chosen', 'true')\n      this._grid.querySelectorAll('.cell').forEach(c => {\n        if (c.getAttribute('active') === 'true' && c !== cell) {\n          this.cellActivate(c, false)\n        }\n      })\n    }\n\n    if (this._trackInstrument[cell.getAttribute('row')] === 'synths' && cellClicked === true) {\n      if (this.shadowRoot.querySelectorAll('.changeNoteMenu')[0]) {\n        this.shadowRoot.querySelectorAll('.changeNoteMenu')[0].setAttribute('assignedCell', cell.id)\n        this.shadowRoot.querySelectorAll('.noteSelectionMenu')[0].children[1].value = cell.getAttribute('note')\n        this.shadowRoot.querySelectorAll('.octaveSelectionMenu')[0].children[1].value = cell.getAttribute('octave')\n        this.shadowRoot.querySelectorAll('.noteLengthInput')[0].children[1].value = cell.getAttribute('noteLength')\n        cell.style.border = 'green'\n      } else {\n        this.changeCellNote(cell)\n      }\n    } if (this.shadowRoot.querySelectorAll('.changeNoteMenu')[0] && this._trackInstrument[cell.getAttribute('row')] !== 'synths' && cellClicked === true) {\n      this._grid.removeChild(this.shadowRoot.querySelectorAll('.changeNoteMenu')[0])\n    }\n  }\n\n  changeCellNote (cell) {\n    let changeNoteMenu = document.createElement('div')\n    let noteSelectionMenu = document.createElement('div')\n    let octaveSelectionMenu = document.createElement('div')\n    let noteLengthInput = document.createElement('div')\n    let closeButton = document.createElement('div')\n\n    changeNoteMenu.setAttribute('class', 'changeNoteMenu')\n    noteSelectionMenu.setAttribute('class', 'noteSelectionMenu')\n    octaveSelectionMenu.setAttribute('class', 'octaveSelectionMenu')\n    noteLengthInput.setAttribute('class', 'noteLengthInput')\n\n    noteSelectionMenu.innerHTML =\n    `<span>Note: </span>\n    <select name=\"note\">\n      <option value=\"C\" selected>C</option>\n      <option value=\"C#\">C#</option>\n      <option value=\"D\">D</option>\n      <option value=\"D#\">D#</option>\n      <option value=\"E\">E</option>\n      <option value=\"F\">F</option>\n      <option value=\"F#\">F#</option>\n      <option value=\"G\">G</option>\n      <option value=\"G#\">G#</option>\n      <option value=\"A\">A</option>\n      <option value=\"A#\">A#</option>\n      <option value=\"B\">B</option>\n    </select>`\n    octaveSelectionMenu.innerHTML =\n    `<span>Octave: </span>\n    <select name=\"octave\">\n      <option value=\"1\">1</option>\n      <option value=\"2\">2</option>\n      <option value=\"3\" selected>3</option>\n      <option value=\"4\">4</option>\n      <option value=\"5\">5</option>\n      <option value=\"6\">6</option>\n      <option value=\"7\">7</option>\n    </select>`\n\n    noteLengthInput.innerHTML =\n    `<span>NoteLength: </span>\n    <input type=\"range\" min=\"0\" max=\"1000\" step=\"10\"\n        value=\"200\" list=\"noteLengths\" name=\"noteLength\">\n    <datalist id=\"noteLength\">\n      <option value=\"0.0\" label=\"Mute\">\n      <option value=\"1.0\" label=\"100%\">\n    </datalist>`\n\n    changeNoteMenu.setAttribute('assignedcell', cell.id)\n\n    closeButton.innerText = 'x'\n\n    if (cell.getAttribute('notemenuopen') === 'false') {\n      changeNoteMenu.appendChild(noteSelectionMenu)\n      changeNoteMenu.appendChild(octaveSelectionMenu)\n      changeNoteMenu.appendChild(noteLengthInput)\n      changeNoteMenu.appendChild(closeButton)\n\n      cell.parentNode.appendChild(changeNoteMenu)\n      cell.setAttribute('notemenuopen', 'true')\n    }\n\n    let changeNoteElement = this.shadowRoot.querySelector(\"select[name='note']\")\n    let changeOctaveElement = this.shadowRoot.querySelector(\"select[name='octave']\")\n    let changeNoteLengthElement = this.shadowRoot.querySelector(\"input[name='noteLength']\")\n\n    if (cell.getAttribute('note') && cell.getAttribute('octave') && cell.getAttribute('noteLength') && this._grid.querySelectorAll('.changeNoteMenu')[0]) {\n      changeNoteElement.value = cell.getAttribute('note')\n      changeOctaveElement.value = cell.getAttribute('octave')\n      changeNoteLengthElement.value = cell.getAttribute('noteLength')\n    }\n\n    changeNoteMenu.onchange = () => {\n      let cells = this._grid.querySelectorAll('.cell')\n      cells.forEach(c => {\n        if (c.id === changeNoteMenu.getAttribute('assignedcell')) {\n          c.setAttribute('note', `${changeNoteElement.value}`)\n          c.setAttribute('octave', `${changeOctaveElement.value}`)\n          c.setAttribute('noteLength', `${changeNoteLengthElement.value}`)\n        }\n      })\n    }\n\n    closeButton.onclick = (event) => {\n      for (let i = 0; i < event.target.parentNode.children.length;) {\n        event.target.parentNode.removeChild(event.target.parentNode.children[i])\n      }\n    }\n  }\n}\n\nwindow.customElements.define('grid-sequencer', Sequencer)\n\nmodule.exports = Sequencer\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9zZXF1ZW5jZXIuanM/OWUzZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlYmNvbXBvbmVudCBmb3IgY3JlYXRpbmcgYSBncmlkIHNlcXVlbmNlciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAbW9kdWxlIHNyYy9kZXNrdG9wLmpzXG4gKiBAYXV0aG9yIExvd2UgTWFya2x1bmRcbiAqIEB2ZXJzaW9uIDEuMlxuICovXG5cbmNvbnN0IFN5bnRoID0gcmVxdWlyZSgnLi9zeW50aCcpXG5jb25zdCBTZXF1ZW5jZXJUZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL3NlcXVlbmNlclRlbXBsYXRlJylcbmNvbnN0IHRlbXBsYXRlID0gU2VxdWVuY2VyVGVtcGxhdGUudGVtcGxhdGVcblxuLyoqXG4gKiBBIGdyaWQgc2VxdWVuY2VyLlxuICpcbiAqIEBjbGFzcyBTZXF1ZW5jZXJcbiAqIEBleHRlbmRzIHt3aW5kb3cuSFRNTEVsZW1lbnR9XG4gKi9cblxuY2xhc3MgU2VxdWVuY2VyIGV4dGVuZHMgd2luZG93LkhUTUxFbGVtZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgTWVtb3J5IC5cbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSlcbiAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpXG4gICAgdGhpcy5fc2VxdWVuY2VyID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5zZXF1ZW5jZXInKVxuICAgIHRoaXMuX2luc3RydW1lbnRMb2cgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLmluc3RydW1lbnRMb2cnKVxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuaW5wdXRzJylcbiAgICB0aGlzLl9ncmlkID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJylcbiAgICB0aGlzLl9wYXVzZVBsYXlCdXR0b24gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBhdXNlUGxheUJ1dHRvbicpXG4gICAgdGhpcy5fYnBtTG9nID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5icG1Mb2cnKVxuICAgIHRoaXMuX2JwbUlucHV0ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5icG1JbnB1dCcpXG4gICAgdGhpcy5fbG9vcExlbmd0aExvZyA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcubG9vcExlbmd0aExvZycpXG4gICAgdGhpcy5fbG9vcExlbmd0aElucHV0ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5sb29wTGVuZ3RoSW5wdXQnKVxuICAgIHRoaXMuX2NlbGxzID0gdGhpcy5fZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpXG4gICAgdGhpcy5fY2VsbENvbHVtbnMgPSBudWxsXG4gICAgdGhpcy5fc3RvcmVkR3JpZCA9IG51bGxcbiAgICB0aGlzLl9jbGljayA9IG51bGxcbiAgICB0aGlzLl90ZW1wbyA9IDE1MFxuICAgIHRoaXMuX3RyYWNrU2FtcGxlcyA9IHtcbiAgICAgICcxJzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICcyJzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICczJzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICc0JzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICc1JzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICc2JzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICc3JzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKSxcbiAgICAgICc4JzogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKVxuICAgIH1cbiAgICB0aGlzLl9kcnVtSW1hZ2VzID0ge1xuICAgICAgJ2tpY2tzJzogJy9pbWFnZS9raWNrcy5wbmcnLFxuICAgICAgJ3NuYXJlcyc6ICcvaW1hZ2Uvc25hcmVzLnBuZycsXG4gICAgICAnaGloYXRzJzogJy9pbWFnZS9oaS1oYXRzLnBuZycsXG4gICAgICAndG9tcyc6ICcvaW1hZ2UvdG9tcy5wbmcnLFxuICAgICAgJ2N5bWJhbHMnOiAnL2ltYWdlL2N5bWJhbHMucG5nJyxcbiAgICAgICdwZXJjdXNzaW9uJzogJy9pbWFnZS9wZXJjdXNzaW9uLnBuZycsXG4gICAgICAnY2xhcHMnOiAnL2ltYWdlL2NsYXBzLnBuZycsXG4gICAgICAnY293YmVsbHMnOiAnL2ltYWdlL2Nvd2JlbGxzLnBuZycsXG4gICAgICAnc3ludGhzJzogJy9pbWFnZS9zeW50aHMucG5nJ1xuICAgIH1cbiAgICB0aGlzLl90cmFja0luc3RydW1lbnQgPSB7XG4gICAgICAxOiAna2lja3MnLFxuICAgICAgMjogJ3NuYXJlcycsXG4gICAgICAzOiAnaGloYXRzJyxcbiAgICAgIDQ6ICd0b21zJyxcbiAgICAgIDU6ICdjeW1iYWxzJyxcbiAgICAgIDY6ICdwZXJjdXNzaW9uJyxcbiAgICAgIDc6ICdjbGFwcycsXG4gICAgICA4OiAnc3ludGhzJ1xuICAgIH1cbiAgICB0aGlzLl9oYXNGb2N1cyA9IGZhbHNlXG4gICAgdGhpcy5fc3ludGggPSBuZXcgU3ludGgoKVxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlXG4gIH1cbiAgLyoqXG4gICAqIFdhdGNoZXMgYXR0cmlidXRlcyBmb3IgY2hhbmdlcyBvbiB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMgKCkge1xuICAgIHJldHVybiBbJ2xvb3BsZW5ndGgnLCAnY3VycmVudGJlYXQnXVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUgYnJvd3NlciBlbmdpbmUgd2hlbiBhbiBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZU5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9sZFZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdWYWx1ZVxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sgKGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIC8vIHJlLXJlbmRlcnMgZ3JpZCB3aGVuIGxvb3AgbGVuZ3RoIGlzIGNoYW5nZWRcbiAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gJ2xvb3BsZW5ndGgnICYmIG9sZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnN0b3JlR3JpZCgpXG4gICAgICB0aGlzLnJlbW92ZUdyaWQoKVxuICAgICAgdGhpcy5yZW5kZXJHcmlkKHRoaXMuZ2V0QXR0cmlidXRlKCdpbnN0cnVtZW50JykpXG4gICAgICB0aGlzLmxvYWRTdG9yZWRHcmlkKClcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fY2xpY2spXG4gICAgICBpZiAodGhpcy5fc2VxdWVuY2VyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BhdXNlUGxheUJ1dHRvbicpWzBdLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGF1c2UnKSB7XG4gICAgICAgIGlmIChOdW1iZXIobmV3VmFsdWUpIDwgTnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdjdXJyZW50YmVhdCcpKSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdjdXJyZW50YmVhdCcsICcwJylcbiAgICAgICAgfVxuICAgICAgICAvLyBzeW5jcyB3aXRoIG90aGVyIHNlcXVlbmNlcnNcbiAgICAgICAgdGhpcy50aW1lU3luYygpXG4gICAgICB9XG4gICAgfVxuICB9XG4gICAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgRE9NLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2xvb3BsZW5ndGgnLCAnMTYnKVxuICAgIHRoaXMucmVuZGVyR3JpZCgpXG4gICAgdGhpcy5pbnB1dExpc3RlbigpXG4gICAgdGhpcy5fdHJhY2tTYW1wbGVzWycxJ10uc3JjID0gJy9hdWRpby9kcnVtcy9raWNrcy8xLndhdidcbiAgICB0aGlzLl90cmFja1NhbXBsZXNbJzInXS5zcmMgPSAnL2F1ZGlvL2RydW1zL3NuYXJlcy8xLndhdidcbiAgICB0aGlzLl90cmFja1NhbXBsZXNbJzMnXS5zcmMgPSAnL2F1ZGlvL2RydW1zL2hpaGF0cy8xLndhdidcbiAgICB0aGlzLl90cmFja1NhbXBsZXNbJzQnXS5zcmMgPSAnL2F1ZGlvL2RydW1zL3RvbXMvMS53YXYnXG4gICAgdGhpcy5fdHJhY2tTYW1wbGVzWyc1J10uc3JjID0gJy9hdWRpby9kcnVtcy9jeW1iYWxzLzEud2F2J1xuICAgIHRoaXMuX3RyYWNrU2FtcGxlc1snNiddLnNyYyA9ICcvYXVkaW8vZHJ1bXMvcGVyY3Vzc2lvbi8xLndhdidcbiAgICB0aGlzLl90cmFja1NhbXBsZXNbJzcnXS5zcmMgPSAnL2F1ZGlvL2RydW1zL2NsYXBzLzEud2F2J1xuICB9XG5cbiAgICAgLyoqXG4gICAqIExpc3RlbnMgYWZ0ZXIgaW5wdXQgZnJvbSB0aGUgdXNlci5cbiAgICpcbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgaW5wdXRMaXN0ZW4gKCkge1xuICAgIHRoaXMuX3NlcXVlbmNlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudCA9PiB7XG4gICAgICAvLyBhY3RpdmF0ZXMvZGVhY3RpdmF0ZXMgY2VsbFxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdjZWxsJyAmJiBldmVudC5zaGlmdEtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FjdGl2ZScpID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgdGhpcy5jZWxsQWN0aXZhdGUoZXZlbnQudGFyZ2V0LCB0cnVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2VsbERlYWN0aXZhdGUoZXZlbnQudGFyZ2V0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ2NlbGwnICYmIGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FjdGl2ZScpID09PSAndHJ1ZScgJiYgZXZlbnQuc2hpZnRLZXkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5jZWxsQWN0aXZhdGUoZXZlbnQudGFyZ2V0LCB0cnVlLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICAvLyBwYXVzZXMgYW5kIHBsYXlzIHRoZSBzZXF1ZW5jZXIocylcbiAgICAgIGlmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAncGF1c2VQbGF5QnV0dG9uJykge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGxheScpIHtcbiAgICAgICAgICAvLyBzeW5jcyB3aXRoIG90aGVyIHNlcXVlbmNlcnNcbiAgICAgICAgICB0aGlzLnRpbWVTeW5jKClcbiAgICAgICAgICB0aGlzLl9pc1BsYXlpbmcgPSB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0uX2NsaWNrKVxuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKVtpXS5fcGF1c2VQbGF5QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdwbGF5JylcbiAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0uX3BhdXNlUGxheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICcvaW1hZ2UvaWNvbnM4LXBsYXktYnV0dG9uLTUwLnBuZycpXG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpW2ldLl9pc1BsYXlpbmcgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICAvLyBjaGFuZ2VzIHNhbXBsZSBvZiB0aGUgdHJhY2tcbiAgICAgIGlmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnaW5zdHJ1bWVudEljb24nKSB7XG4gICAgICAgIC8vIGNoYW5nZXMgZHJ1bXR5cGVcbiAgICAgICAgbGV0IGN1cnJlbnRJbnN0cnVtZW50ID0gTnVtYmVyKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSlcbiAgICAgICAgbGV0IGRydW1UeXBlcyA9IFsna2lja3MnLCAnc25hcmVzJywgJ2hpaGF0cycsICd0b21zJywgJ2N5bWJhbHMnLCAncGVyY3Vzc2lvbicsICdjbGFwcycsICdjb3diZWxscycsICdzeW50aHMnXVxuICAgICAgICBsZXQgbmV4dEljb25cblxuICAgICAgICBpZiAoTnVtYmVyKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSkgKyAxID4gOCkge1xuICAgICAgICAgIG5leHRJY29uID0gMFxuICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuX2RydW1JbWFnZXNbZHJ1bVR5cGVzW25leHRJY29uXV0pXG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgndHlwZScsIFtgJHtuZXh0SWNvbn1gXSlcbiAgICAgICAgICBldmVudC50YXJnZXQubmV4dFNpYmxpbmcuaW5uZXJUZXh0ID0gJzEnXG4gICAgICAgICAgdGhpcy5fdHJhY2tTYW1wbGVzW2V2ZW50LnRhcmdldC5uZXh0U2libGluZy5uZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoJ3JvdycpXS5zcmMgPSBgL2F1ZGlvL2RydW1zLyR7ZHJ1bVR5cGVzWzBdfS8xLndhdmBcbiAgICAgICAgICB0aGlzLl90cmFja0luc3RydW1lbnRbZXZlbnQudGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgncm93JyldID0gZHJ1bVR5cGVzW25leHRJY29uXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRJY29uID0gTnVtYmVyKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSkgKyAxXG4gICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fZHJ1bUltYWdlc1tkcnVtVHlwZXNbbmV4dEljb25dXSlcbiAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCd0eXBlJywgW2Ake25leHRJY29ufWBdKVxuICAgICAgICAgIGV2ZW50LnRhcmdldC5uZXh0U2libGluZy5pbm5lclRleHQgPSAnMSdcbiAgICAgICAgICB0aGlzLl90cmFja1NhbXBsZXNbZXZlbnQudGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgncm93JyldLnNyYyA9IGAvYXVkaW8vZHJ1bXMvJHtkcnVtVHlwZXNbY3VycmVudEluc3RydW1lbnQgKyAxXX0vMS53YXZgXG4gICAgICAgICAgdGhpcy5fdHJhY2tJbnN0cnVtZW50W2V2ZW50LnRhcmdldC5uZXh0U2libGluZy5uZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoJ3JvdycpXSA9IGRydW1UeXBlc1tuZXh0SWNvbl1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdpbnN0cnVtZW50TnVtYmVyJykge1xuICAgICAgICAvLyBjaGFuZ2VzIHNhbXBsZSBudW1iZXJcbiAgICAgICAgbGV0IGN1cnJlbnRJbnN0cnVtZW50ID0gTnVtYmVyKGV2ZW50LnRhcmdldC5wcmV2aW91c1NpYmxpbmcuZ2V0QXR0cmlidXRlKCd0eXBlJykpXG4gICAgICAgIGxldCBpbnN0cnVtZW50VHlwZVNhbXBsZUFtb3VudCA9IHtraWNrczogMjYsIHNuYXJlczogMjMsIGhpaGF0czogMTUsIHRvbXM6IDksIGN5bWJhbHM6IDQsIHBlcmN1c3Npb246IDEzLCBjbGFwczogNiwgY293YmVsbHM6IDF9XG4gICAgICAgIGxldCBuZXh0U2FtcGxlID0gTnVtYmVyKGV2ZW50LnRhcmdldC5pbm5lclRleHQpICsgMVxuXG4gICAgICAgIGlmIChuZXh0U2FtcGxlID4gaW5zdHJ1bWVudFR5cGVTYW1wbGVBbW91bnRbT2JqZWN0LmtleXMoaW5zdHJ1bWVudFR5cGVTYW1wbGVBbW91bnQpW2N1cnJlbnRJbnN0cnVtZW50XV0pIHtcbiAgICAgICAgICBldmVudC50YXJnZXQuaW5uZXJUZXh0ID0gJzEnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCA9IG5leHRTYW1wbGVcbiAgICAgICAgICB0aGlzLl90cmFja1NhbXBsZXNbZXZlbnQudGFyZ2V0Lm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgncm93JyldLnNyYyA9IGAvYXVkaW8vZHJ1bXMvJHtPYmplY3Qua2V5cyhpbnN0cnVtZW50VHlwZVNhbXBsZUFtb3VudClbY3VycmVudEluc3RydW1lbnRdfS8ke25leHRTYW1wbGV9LndhdmBcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjbGVhcnMgdGhlIGdyaWRcbiAgICAgIGlmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnY2xlYXJCdXR0b24nKSB7XG4gICAgICAgIHRoaXMuY2xlYXJHcmlkKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5faW5wdXRzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2VzIHRoZSBsb29wIGxlbmd0aCB0byB3aGF0IHRoZSB1c2VyIGhhcyBlbnRlcmVkXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnbG9vcExlbmd0aElucHV0Jykge1xuICAgICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICBpZiAoTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkgPD0gMzIgJiYgTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnbG9vcGxlbmd0aCcsIGV2ZW50LnRhcmdldC52YWx1ZSlcblxuICAgICAgICAgICAgdGhpcy5fbG9vcExlbmd0aExvZy5pbm5lclRleHQgPSAnTGVuZ3RoOiAnICsgZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICBldmVudC50YXJnZXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdFbnRlciBsb29wIGxlbmd0aCAobWF4ID0gMzIgbWluID0gMSknKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbnVsbFxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKVxuICAgICAgICAgIH0gaWYgKE51bWJlcihldmVudC50YXJnZXQudmFsdWUpID4gMzIgfHwgTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkgPCAwIHx8IGlzTmFOKE51bWJlcihldmVudC50YXJnZXQudmFsdWUpKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnVmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMSBhbmQgMzInKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gbnVsbFxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hhbmdlcyB0aGUgdGVtcG8gdG8gd2hhdCB0aGUgdXNlciBoYXMgZW50ZXJlZFxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ2JtcElucHV0Jykge1xuICAgICAgICAgIGxldCBpbnB1dCA9IE51bWJlcihldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAvLyBFcnJvciBoYW5kbGluZ1xuICAgICAgICAgIGlmIChpbnB1dCA8PSAzMDAgJiYgaW5wdXQgPj0gMzApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpW2ldLl9icG1Mb2cuaW5uZXJUZXh0ID0gJ0JQTTogJyArIGV2ZW50LnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGVtcG8gPSBpbnB1dFxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnRW50ZXIgdGVtcG8gKEJQTSkgbWF4ID0gMzAwIG1pbiA9IDMwJylcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IG51bGxcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5ibHVyKClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzeW5jcyB3aXRoIG90aGVyIHNlcXVlbmNlcnNcbiAgICAgICAgICBpZiAodGhpcy5fc2VxdWVuY2VyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BhdXNlUGxheUJ1dHRvbicpWzBdLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGF1c2UnICYmIGlzTmFOKGlucHV0KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMudGltZVN5bmMoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc05hTihpbnB1dCkgPT09IHRydWUgfHwgaW5wdXQgPCAzMCB8fCBpbnB1dCA+PSAzMDApIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1ZhbHVlIG11c3QgYmUgYW4gaW50ZWdlciBiZXR3ZWVuIDMwIGFuZCAzJylcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IG51bGxcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5ibHVyKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG4gICAgLyoqXG4gICAqIFJlbmRlcnMgZ3JpZCBvZiB0aGUgc2VxdWVuY2VyXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTZXF1ZW5jZXJcbiAgICovXG4gIHJlbmRlckdyaWQgKCkge1xuICAgIGxldCBjb2x1bW4gPSAwXG4gICAgbGV0IHJvdyA9IDFcbiAgICBsZXQgbG9vcExlbmd0aCA9IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnbG9vcGxlbmd0aCcpKVxuICAgIGxldCBtYXhSb3dzID0gOFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb29wTGVuZ3RoICogOTsgaSsrKSB7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBsZXQgaW5zdHJ1bWVudFR5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuICAgICAgICBsZXQgaW5zdHJ1bWVudE51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g2JylcbiAgICAgICAgaW5zdHJ1bWVudFR5cGUuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLl9kcnVtSW1hZ2VzW3RoaXMuX3RyYWNrSW5zdHJ1bWVudFtyb3ddXSlcbiAgICAgICAgaW5zdHJ1bWVudFR5cGUuc2V0QXR0cmlidXRlKCd0eXBlJywgYCR7cm93IC0gMX1gKVxuICAgICAgICBpbnN0cnVtZW50VHlwZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2luc3RydW1lbnRJY29uJylcbiAgICAgICAgaW5zdHJ1bWVudE51bWJlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2luc3RydW1lbnROdW1iZXInKVxuICAgICAgICBpbnN0cnVtZW50TnVtYmVyLmlubmVyVGV4dCA9ICcxJ1xuICAgICAgICB0aGlzLl9ncmlkLmFwcGVuZENoaWxkKGluc3RydW1lbnRUeXBlKVxuICAgICAgICB0aGlzLl9ncmlkLmFwcGVuZENoaWxkKGluc3RydW1lbnROdW1iZXIpXG4gICAgICB9XG5cbiAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgIGNvbHVtbiArPSAxXG4gICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnYWN0aXZlJywgYGZhbHNlYClcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdpZCcsIGAke2l9YClcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGBjZWxsYClcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdjb2x1bW4nLCBgJHtjb2x1bW59YClcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdyb3cnLCBgJHtyb3d9YClcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdub3RlJywgJ0MnKVxuICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ29jdGF2ZScsICczJylcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdub3RlTGVuZ3RoJywgJzEwMCcpXG4gICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnbm90ZW1lbnVvcGVuJywgJ2ZhbHNlJylcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdjaG9zZW4nLCAnZmFsc2UnKVxuICAgICAgdGhpcy5fZ3JpZC5hcHBlbmRDaGlsZChjZWxsKVxuXG4gICAgICBpZiAoY29sdW1uID09PSBsb29wTGVuZ3RoKSB7XG4gICAgICAgIGxldCByb3dCcmVhayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJylcbiAgICAgICAgbGV0IGluc3RydW1lbnRUeXBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgbGV0IGluc3RydW1lbnROdW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNicpXG4gICAgICAgIGluc3RydW1lbnRUeXBlLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fZHJ1bUltYWdlc1t0aGlzLl90cmFja0luc3RydW1lbnRbcm93ICsgMV1dKVxuICAgICAgICBpbnN0cnVtZW50VHlwZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCBgJHtyb3d9YClcbiAgICAgICAgaW5zdHJ1bWVudFR5cGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdpbnN0cnVtZW50SWNvbicpXG4gICAgICAgIGluc3RydW1lbnROdW1iZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdpbnN0cnVtZW50TnVtYmVyJylcbiAgICAgICAgaW5zdHJ1bWVudE51bWJlci5pbm5lclRleHQgPSAnMSdcbiAgICAgICAgdGhpcy5fZ3JpZC5hcHBlbmRDaGlsZChyb3dCcmVhaylcbiAgICAgICAgdGhpcy5fZ3JpZC5hcHBlbmRDaGlsZChpbnN0cnVtZW50VHlwZSlcbiAgICAgICAgdGhpcy5fZ3JpZC5hcHBlbmRDaGlsZChpbnN0cnVtZW50TnVtYmVyKVxuXG4gICAgICAgIGNvbHVtbiA9IDBcbiAgICAgICAgcm93ICs9IDFcbiAgICAgIH1cblxuICAgICAgaWYgKHJvdyA+IG1heFJvd3MpIHtcbiAgICAgICAgdGhpcy5fY2VsbHMgPSB0aGlzLl9ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJylcbiAgICAgICAgdGhpcy5fZ3JpZC5yZW1vdmVDaGlsZCh0aGlzLl9ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnN0cnVtZW50SWNvbicpWyh0aGlzLl9ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnN0cnVtZW50SWNvbicpLmxlbmd0aCkgLSAxXSlcbiAgICAgICAgdGhpcy5fZ3JpZC5yZW1vdmVDaGlsZCh0aGlzLl9ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnN0cnVtZW50TnVtYmVyJylbKHRoaXMuX2dyaWQucXVlcnlTZWxlY3RvckFsbCgnLmluc3RydW1lbnROdW1iZXInKS5sZW5ndGgpIC0gMV0pXG4gICAgICAgIHRoaXMuX2NlbGxDb2x1bW5zID0gY29sdW1uXG4gICAgICAgIGlmIChsb29wTGVuZ3RoID4gMTYpIHtcbiAgICAgICAgICB0aGlzLl9zZXF1ZW5jZXIuc3R5bGUud2lkdGggPSBgJHtsb29wTGVuZ3RoICogMzF9cHhgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2VxdWVuY2VyLnN0eWxlLndpZHRoID0gJzUwMHB4J1xuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgfVxuICAgICAvKipcbiAgICogUmVtb3ZlcyBncmlkIG9mIHRoZSBzZXF1ZW5jZXJcbiAgICpcbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgcmVtb3ZlR3JpZCAoKSB7XG4gICAgbGV0IGdyaWRMZW5ndGggPSB0aGlzLl9ncmlkLmNoaWxkcmVuLmxlbmd0aFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JpZExlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9ncmlkLnJlbW92ZUNoaWxkKHRoaXMuX2dyaWQuZmlyc3RFbGVtZW50Q2hpbGQpXG4gICAgfVxuICB9XG4gICAvKipcbiAgICogRGVhY3RpdmF0ZXMgYWxsIGNlbGxzIG9mIHRoZSBzZXF1ZW5jZXJcbiAgICpcbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgY2xlYXJHcmlkICgpIHtcbiAgICBsZXQgZ3JpZExlbmd0aCA9IHRoaXMuX2NlbGxzLmxlbmd0aFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmlkTGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY2VsbERlYWN0aXZhdGUodGhpcy5fY2VsbHNbaV0pXG4gICAgICBpZiAodGhpcy5fcGF1c2VQbGF5QnV0dG9uLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGF1c2UnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKVtpXS5fY2xpY2spXG4gICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKVtpXS5wbGF5R3JpZCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgICAvKipcbiAgICogU3RvcmVzIGEgbWFwIG9mIHRoZSBzZXF1ZW5jZXJzIGFjdGl2YXRlZCBjZWxsc1xuICAgKlxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICBzdG9yZUdyaWQgKCkge1xuICAgIGxldCBncmlkID0ge31cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDg7IGkrKykge1xuICAgICAgZ3JpZFtpXSA9IFtdXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgnYWN0aXZlJykgPT09ICd0cnVlJykge1xuICAgICAgICBncmlkW051bWJlcih0aGlzLl9jZWxsc1tpXS5nZXRBdHRyaWJ1dGUoJ3JvdycpKV0ucHVzaCh0aGlzLl9jZWxsc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbHVtbicpKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9zdG9yZWRHcmlkID0gZ3JpZFxuICB9XG4gICAvKipcbiAgICogTG9hZHMgYSBtYXAgb2YgYWN0aXZhdGVkIGNlbGxzIGludG8gdGhlIHNlcXVlbmNlclxuICAgKlxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICBsb2FkU3RvcmVkR3JpZCAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgnY29sdW1uJykgPT09IHRoaXMuZ2V0QXR0cmlidXRlKCdjdXJyZW50YmVhdCcpICYmIHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgnY2hvc2VuJykgPT09ICdmYWxzZScpIHtcbiAgICAgICAgdGhpcy5fY2VsbHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCdcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHRoaXMuX3N0b3JlZEdyaWRbTnVtYmVyKHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93JykpXS5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0b3JlZEdyaWRbTnVtYmVyKHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93JykpXVtpMl0gPT09IHRoaXMuX2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgnY29sdW1uJykpIHtcbiAgICAgICAgICB0aGlzLmNlbGxBY3RpdmF0ZSh0aGlzLl9jZWxsc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAgLyoqXG4gICAqIFBsYXlzIHRoZSBzZXF1ZW5jZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGJlYXQgLSBUaGUgZ3JpZCBjb2x1bW4gdG8gc3RhcnQgcGxheWluZyBhdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdGVtcG8gLSBUaGUgdGVtcG8gdG8gcGxheSBhdFxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gLSBBbiBpbnRlcnZhbCBjcmVhdGluZyBlYWNoIGJlYXQgb2YgdGhlIHNlcXVlbmNlclxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICBwbGF5R3JpZCAoYmVhdCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdjdXJyZW50YmVhdCcpLCB0ZW1wbyA9IHRoaXMuX3RlbXBvKSB7XG4gICAgbGV0IGNvbHVtbiA9IE51bWJlcihiZWF0KVxuICAgIGxldCBjZWxscyA9IHRoaXMuX2dyaWQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKVxuXG4gICAgbGV0IGNsaWNrID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoTnVtYmVyKGNlbGxzW2ldLmdldEF0dHJpYnV0ZSgnY29sdW1uJykpID09PSBjb2x1bW4pIHtcbiAgICAgICAgICBpZiAodGhpcy5fY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCdjaG9zZW4nKSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgY2VsbHNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCdcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnY3VycmVudGJlYXQnLCBjb2x1bW4pXG5cbiAgICAgICAgICBpZiAoaSA+IDAgJiYgY2VsbHNbaSAtIDFdLmdldEF0dHJpYnV0ZSgnYWN0aXZlJykgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2VsbERlYWN0aXZhdGUoY2VsbHNbaSAtIDFdKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCdhY3RpdmUnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhY2tJbnN0cnVtZW50W2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93JyldID09PSAnc3ludGhzJykge1xuICAgICAgICAgICAgICBsZXQgbm90ZSA9IGNlbGxzW2ldLmdldEF0dHJpYnV0ZSgnbm90ZScpXG4gICAgICAgICAgICAgIGxldCBvY3RhdmUgPSBOdW1iZXIoY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCdvY3RhdmUnKSlcbiAgICAgICAgICAgICAgbGV0IGZyZXF1ZW5jeSA9IHRoaXMuX3N5bnRoLl9ub3RlRnJlcVtvY3RhdmVdW25vdGVdXG4gICAgICAgICAgICAgIGxldCBrZXkgPSB0aGlzLl9zeW50aC5jcmVhdGVLZXkobm90ZSwgb2N0YXZlLCBmcmVxdWVuY3ksIG5vdGUgKyBgJHtvY3RhdmV9YClcbiAgICAgICAgICAgICAgdGhpcy5fc3ludGgubm90ZVByZXNzZWQoa2V5LCBub3RlICsgYCR7b2N0YXZlfWAsIGNlbGxzW2ldKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90cmFja1NhbXBsZXNbY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCdyb3cnKV0ucGF1c2UoKVxuICAgICAgICAgICAgdGhpcy5fdHJhY2tTYW1wbGVzW2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93JyldLmN1cnJlbnRUaW1lID0gMFxuICAgICAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gdGhpcy5fdHJhY2tTYW1wbGVzW2NlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93JyldLnBsYXkoKVxuICAgICAgICAgICAgcGxheVByb21pc2UudGhlbihfID0+IHtcblxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNlbGxEZWFjdGl2YXRlKGNlbGxzWyhjZWxscy5sZW5ndGgpIC0gMV0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsc1tpXS5nZXRBdHRyaWJ1dGUoJ2FjdGl2ZScpID09PSAndHJ1ZScgJiYgY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCdjaG9zZW4nKSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgIHRoaXMuY2VsbEFjdGl2YXRlKGNlbGxzW2ldLCBmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY29sdW1uID49IE51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgnbG9vcGxlbmd0aCcpKSkge1xuICAgICAgICBjb2x1bW4gPSAxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2x1bW4gKz0gMVxuICAgICAgfVxuICAgIH0sICg2MDAwMCAvIHRlbXBvKSAvIDQpXG5cbiAgICB0aGlzLl9jbGljayA9IGNsaWNrXG4gIH1cbiAgLyoqXG4gICAqIFN5bmNzIGFsbCB0aGUgc2VxdWVuY2VycyBvcGVuIG9uIHRoZSBkZXNrdG9wIHRvIHN0YXJ0L3N0b3AgYXQgdGhlIHNhbWUgdGltZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgU2VxdWVuY2VyXG4gICAqL1xuICB0aW1lU3luYyAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0uX2NsaWNrKVxuICAgICAgbGV0IGN1cnJlbnRCZWF0ID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKVtpXS5nZXRBdHRyaWJ1dGUoJ2N1cnJlbnRiZWF0JylcbiAgICAgIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0ucGxheUdyaWQoY3VycmVudEJlYXQsIHRoaXMuX3RlbXBvKVxuICAgICAgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnZ3JpZC1zZXF1ZW5jZXInKVtpXS5fYnBtTG9nLmlubmVyVGV4dCA9IGBCUE06ICR7dGhpcy5fdGVtcG99YFxuICAgICAgaWYgKHRoaXMuX3BhdXNlUGxheUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3BsYXknKSB7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0uX3BhdXNlUGxheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncGF1c2UnKVxuICAgICAgICB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpW2ldLl9wYXVzZVBsYXlCdXR0b24uc2V0QXR0cmlidXRlKCdzcmMnLCAnL2ltYWdlL2ljb25zOC1wYXVzZS1idXR0b24tNTAucG5nJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2dyaWQtc2VxdWVuY2VyJylbaV0uX3BhdXNlUGxheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncGF1c2UnKVxuICAgICAgICB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdncmlkLXNlcXVlbmNlcicpW2ldLl9wYXVzZVBsYXlCdXR0b24uc2V0QXR0cmlidXRlKCdzcmMnLCAnL2ltYWdlL2ljb25zOC1wYXVzZS1idXR0b24tNTAucG5nJylcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhIGNlbGwgaW4gdGhlIGdyaWRcbiAgICpcbiAgICogQG1lbWJlcm9mIFNlcXVlbmNlclxuICAgKi9cbiAgY2VsbERlYWN0aXZhdGUgKGNlbGwpIHtcbiAgICBjZWxsLnNldEF0dHJpYnV0ZSgnYWN0aXZlJywgJ2ZhbHNlJylcbiAgICBjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSdcbiAgfVxuICAvKipcbiAgICogRGVhY3RpdmF0ZXMgYSBjZWxsIGluIHRoZSBncmlkXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTZXF1ZW5jZXJcbiAgICovXG4gIGNlbGxBY3RpdmF0ZSAoY2VsbCwgY2VsbENsaWNrZWQsIHNoaWZ0Q2xpY2spIHtcbiAgICBjZWxsLnNldEF0dHJpYnV0ZSgnYWN0aXZlJywgJ3RydWUnKVxuICAgIGNlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3llbGxvdydcblxuICAgIGlmIChjZWxsQ2xpY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nXG4gICAgICBjZWxsLnNldEF0dHJpYnV0ZSgnY2hvc2VuJywgJ3RydWUnKVxuICAgICAgdGhpcy5fZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmIChjLmdldEF0dHJpYnV0ZSgnYWN0aXZlJykgPT09ICd0cnVlJyAmJiBjICE9PSBjZWxsKSB7XG4gICAgICAgICAgdGhpcy5jZWxsQWN0aXZhdGUoYywgZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3RyYWNrSW5zdHJ1bWVudFtjZWxsLmdldEF0dHJpYnV0ZSgncm93JyldID09PSAnc3ludGhzJyAmJiBjZWxsQ2xpY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhbmdlTm90ZU1lbnUnKVswXSkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNoYW5nZU5vdGVNZW51JylbMF0uc2V0QXR0cmlidXRlKCdhc3NpZ25lZENlbGwnLCBjZWxsLmlkKVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnLm5vdGVTZWxlY3Rpb25NZW51JylbMF0uY2hpbGRyZW5bMV0udmFsdWUgPSBjZWxsLmdldEF0dHJpYnV0ZSgnbm90ZScpXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcub2N0YXZlU2VsZWN0aW9uTWVudScpWzBdLmNoaWxkcmVuWzFdLnZhbHVlID0gY2VsbC5nZXRBdHRyaWJ1dGUoJ29jdGF2ZScpXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZUxlbmd0aElucHV0JylbMF0uY2hpbGRyZW5bMV0udmFsdWUgPSBjZWxsLmdldEF0dHJpYnV0ZSgnbm90ZUxlbmd0aCcpXG4gICAgICAgIGNlbGwuc3R5bGUuYm9yZGVyID0gJ2dyZWVuJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VDZWxsTm90ZShjZWxsKVxuICAgICAgfVxuICAgIH0gaWYgKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhbmdlTm90ZU1lbnUnKVswXSAmJiB0aGlzLl90cmFja0luc3RydW1lbnRbY2VsbC5nZXRBdHRyaWJ1dGUoJ3JvdycpXSAhPT0gJ3N5bnRocycgJiYgY2VsbENsaWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX2dyaWQucmVtb3ZlQ2hpbGQodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFuZ2VOb3RlTWVudScpWzBdKVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUNlbGxOb3RlIChjZWxsKSB7XG4gICAgbGV0IGNoYW5nZU5vdGVNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBsZXQgbm90ZVNlbGVjdGlvbk1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGxldCBvY3RhdmVTZWxlY3Rpb25NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBsZXQgbm90ZUxlbmd0aElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBsZXQgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXG4gICAgY2hhbmdlTm90ZU1lbnUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjaGFuZ2VOb3RlTWVudScpXG4gICAgbm90ZVNlbGVjdGlvbk1lbnUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlU2VsZWN0aW9uTWVudScpXG4gICAgb2N0YXZlU2VsZWN0aW9uTWVudS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ29jdGF2ZVNlbGVjdGlvbk1lbnUnKVxuICAgIG5vdGVMZW5ndGhJbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ25vdGVMZW5ndGhJbnB1dCcpXG5cbiAgICBub3RlU2VsZWN0aW9uTWVudS5pbm5lckhUTUwgPVxuICAgIGA8c3Bhbj5Ob3RlOiA8L3NwYW4+XG4gICAgPHNlbGVjdCBuYW1lPVwibm90ZVwiPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNcIiBzZWxlY3RlZD5DPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiQyNcIj5DIzwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIkRcIj5EPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiRCNcIj5EIzwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIkVcIj5FPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiRlwiPkY8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCJGI1wiPkYjPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiR1wiPkc8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCJHI1wiPkcjPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiQVwiPkE8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCJBI1wiPkEjPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiQlwiPkI8L29wdGlvbj5cbiAgICA8L3NlbGVjdD5gXG4gICAgb2N0YXZlU2VsZWN0aW9uTWVudS5pbm5lckhUTUwgPVxuICAgIGA8c3Bhbj5PY3RhdmU6IDwvc3Bhbj5cbiAgICA8c2VsZWN0IG5hbWU9XCJvY3RhdmVcIj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+MTwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj4yPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiM1wiIHNlbGVjdGVkPjM8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCI0XCI+NDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiB2YWx1ZT1cIjVcIj41PC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHZhbHVlPVwiNlwiPjY8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCI3XCI+Nzwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PmBcblxuICAgIG5vdGVMZW5ndGhJbnB1dC5pbm5lckhUTUwgPVxuICAgIGA8c3Bhbj5Ob3RlTGVuZ3RoOiA8L3NwYW4+XG4gICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxMDAwXCIgc3RlcD1cIjEwXCJcbiAgICAgICAgdmFsdWU9XCIyMDBcIiBsaXN0PVwibm90ZUxlbmd0aHNcIiBuYW1lPVwibm90ZUxlbmd0aFwiPlxuICAgIDxkYXRhbGlzdCBpZD1cIm5vdGVMZW5ndGhcIj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCIwLjBcIiBsYWJlbD1cIk11dGVcIj5cbiAgICAgIDxvcHRpb24gdmFsdWU9XCIxLjBcIiBsYWJlbD1cIjEwMCVcIj5cbiAgICA8L2RhdGFsaXN0PmBcblxuICAgIGNoYW5nZU5vdGVNZW51LnNldEF0dHJpYnV0ZSgnYXNzaWduZWRjZWxsJywgY2VsbC5pZClcblxuICAgIGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9ICd4J1xuXG4gICAgaWYgKGNlbGwuZ2V0QXR0cmlidXRlKCdub3RlbWVudW9wZW4nKSA9PT0gJ2ZhbHNlJykge1xuICAgICAgY2hhbmdlTm90ZU1lbnUuYXBwZW5kQ2hpbGQobm90ZVNlbGVjdGlvbk1lbnUpXG4gICAgICBjaGFuZ2VOb3RlTWVudS5hcHBlbmRDaGlsZChvY3RhdmVTZWxlY3Rpb25NZW51KVxuICAgICAgY2hhbmdlTm90ZU1lbnUuYXBwZW5kQ2hpbGQobm90ZUxlbmd0aElucHV0KVxuICAgICAgY2hhbmdlTm90ZU1lbnUuYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pXG5cbiAgICAgIGNlbGwucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjaGFuZ2VOb3RlTWVudSlcbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdub3RlbWVudW9wZW4nLCAndHJ1ZScpXG4gICAgfVxuXG4gICAgbGV0IGNoYW5nZU5vdGVFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RbbmFtZT0nbm90ZSddXCIpXG4gICAgbGV0IGNoYW5nZU9jdGF2ZUVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInNlbGVjdFtuYW1lPSdvY3RhdmUnXVwiKVxuICAgIGxldCBjaGFuZ2VOb3RlTGVuZ3RoRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbbmFtZT0nbm90ZUxlbmd0aCddXCIpXG5cbiAgICBpZiAoY2VsbC5nZXRBdHRyaWJ1dGUoJ25vdGUnKSAmJiBjZWxsLmdldEF0dHJpYnV0ZSgnb2N0YXZlJykgJiYgY2VsbC5nZXRBdHRyaWJ1dGUoJ25vdGVMZW5ndGgnKSAmJiB0aGlzLl9ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFuZ2VOb3RlTWVudScpWzBdKSB7XG4gICAgICBjaGFuZ2VOb3RlRWxlbWVudC52YWx1ZSA9IGNlbGwuZ2V0QXR0cmlidXRlKCdub3RlJylcbiAgICAgIGNoYW5nZU9jdGF2ZUVsZW1lbnQudmFsdWUgPSBjZWxsLmdldEF0dHJpYnV0ZSgnb2N0YXZlJylcbiAgICAgIGNoYW5nZU5vdGVMZW5ndGhFbGVtZW50LnZhbHVlID0gY2VsbC5nZXRBdHRyaWJ1dGUoJ25vdGVMZW5ndGgnKVxuICAgIH1cblxuICAgIGNoYW5nZU5vdGVNZW51Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgbGV0IGNlbGxzID0gdGhpcy5fZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpXG4gICAgICBjZWxscy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICBpZiAoYy5pZCA9PT0gY2hhbmdlTm90ZU1lbnUuZ2V0QXR0cmlidXRlKCdhc3NpZ25lZGNlbGwnKSkge1xuICAgICAgICAgIGMuc2V0QXR0cmlidXRlKCdub3RlJywgYCR7Y2hhbmdlTm90ZUVsZW1lbnQudmFsdWV9YClcbiAgICAgICAgICBjLnNldEF0dHJpYnV0ZSgnb2N0YXZlJywgYCR7Y2hhbmdlT2N0YXZlRWxlbWVudC52YWx1ZX1gKVxuICAgICAgICAgIGMuc2V0QXR0cmlidXRlKCdub3RlTGVuZ3RoJywgYCR7Y2hhbmdlTm90ZUxlbmd0aEVsZW1lbnQudmFsdWV9YClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjbG9zZUJ1dHRvbi5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aDspIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5baV0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2dyaWQtc2VxdWVuY2VyJywgU2VxdWVuY2VyKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcXVlbmNlclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvc2VxdWVuY2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Webcomponent for creating a synth application.\n *\n * @module src/synth.js\n * @author Lowe Marklund\n * @version 1.0\n */\n\n \n\n const SynthTemplate = __webpack_require__(3)\n const template = SynthTemplate.template\n\n/**\n * Synth.\n *\n * @class Synth\n * @extends {window.HTMLElement}\n */\n\n class Synth extends window.HTMLElement {\n  /**\n   * Creates an instance of Memory .\n   * @memberof Synth\n   */\n   constructor () {\n     super()\n     this.attachShadow({mode: 'open'})\n     this.shadowRoot.appendChild(template.content.cloneNode(true))\n     this._synth = this.shadowRoot.querySelector('.synth')\n     this._keyboard = this.shadowRoot.querySelector('.keyboard')\n     this._newKeyboard = this.shadowRoot.querySelector('.newKeyboard')\n     this._wavePicker = this.shadowRoot.querySelector(\"select[name='waveform']\")\n     this._octavePicker = this.shadowRoot.querySelector(\"select[name='octave']\")\n     this._volumeControl = this.shadowRoot.querySelector(\"input[name='volume']\")\n     this._audioContext = new (window.AudioContext || window.webkitAudioContext)()\n     this._triggerKeys = ['Tab', '1', 'q', '2', 'w', 'e', '4', 'r', '5', 't', '6', 'y', 'u', '8', 'i', '9', 'o', 'p', '0', 'å', '´', '¨', '\\u27f5', '\\u21b5']\n     this._oscList = {}\n     this._masterGainNode = null\n     this._noteFreq = null\n     this._customWaveform = null\n     this._sineTerms = null\n     this._cosineTerms = null\n     this._sequencer = null\n     this._activeNotes = {\n       1: null,\n       2: null,\n       3: null,\n       4: null,\n       5: null,\n       6: null,\n       7: null,\n       8: null\n     }\n   }\n\n  /**\n   * Watches attributes for changes on the element.\n   *\n   * @readonly\n   * @static\n   * @memberof Synth\n   */\n   static get observedAttributes () {\n\n   }\n\n  /**\n   * Called by the browser engine when an attribute changes.\n   *\n   * @param {string} attributeName\n   * @param {string} oldValue\n   * @param {string} newValue\n   * @memberof Synth\n   */\n   attributeChangedCallback (attributeName, oldValue, newValue) {\n\n   }\n    /**\n   * Called when the element is connected to the DOM.\n   *\n   * @memberof Synth\n   */\n   connectedCallback () {\n     this.setup()\n     this.inputListen()\n   }\n\n     /**\n   * Listens after input from the user.\n   *\n   * @memberof Synth\n   */\n   inputListen () {\n     this._octavePicker.addEventListener('change', () => {\n       let keyboardOctaves = this._keyboard.querySelectorAll('.octave')\n\n        // removes previous keyboard octaves\n       keyboardOctaves.forEach(octave => {\n         this._keyboard.removeChild(octave)\n       })\n\n       this._noteFreq = this.createNoteTable(1)\n       this.createKeyboard(Number(this._octavePicker.value))\n     }, false)\n\n     this._volumeControl.addEventListener('change', () => {\n       this.changeVolume()\n     }, false)\n\n     window.addEventListener('keydown', event => {\n       if (document.activeElement !== this._sequencer) {\n         event.preventDefault()\n         let triggeredKey = event.key\n         switch (event.code) {\n           case 'BracketRight':\n             triggeredKey = '¨'\n             break\n           case 'Enter':\n             triggeredKey = '\\u21b5'\n             break\n           case 'Backspace':\n             triggeredKey = '\\u27f5'\n             break\n           case 'Equal':\n             triggeredKey = '´'\n             break\n         }\n         if (event.repeat === false && this._triggerKeys.includes(triggeredKey)) {\n           let key = this._keyboard.querySelector(`#key${triggeredKey}`)\n           this.notePressed(key, triggeredKey)\n           key.style.backgroundColor = '#599'\n         }\n       }\n     })\n\n     window.addEventListener('keyup', event => {\n       let triggeredKey = event.key\n\n       switch (event.code) {\n         case 'BracketRight':\n           triggeredKey = '¨'\n           break\n         case 'Enter':\n           triggeredKey = '\\u21b5'\n           break\n         case 'Backspace':\n           triggeredKey = '\\u27f5'\n           break\n         case 'Equal':\n           triggeredKey = '´'\n           break\n       }\n       if (this._triggerKeys.includes(triggeredKey)) {\n         let key = this._keyboard.querySelector(`#key${triggeredKey}`)\n         this.noteReleased(key, triggeredKey)\n         key.style.backgroundColor = 'white'\n\n         if (key.getAttribute('class') === 'sharpKey') {\n           key.style.backgroundColor = 'black'\n         }\n       }\n     }, false)\n   }\n\n      /**\n   * Creates array of pitches\n   *\n   * @memberof Synth\n   */\n   createNoteTable (octave) {\n     let noteFreq = []\n\n     for (let i = 0; i < 8; i++) {\n       noteFreq[octave + i] = []\n     }\n\n     noteFreq[octave]['C'] = 32.703195662574829\n     noteFreq[octave]['C#'] = 34.647828872109012\n     noteFreq[octave]['D'] = 36.708095989675945\n     noteFreq[octave]['D#'] = 38.890872965260113\n     noteFreq[octave]['E'] = 41.203444614108741\n     noteFreq[octave]['F'] = 43.653528929125485\n     noteFreq[octave]['F#'] = 46.249302838954299\n     noteFreq[octave]['G'] = 48.999429497718661\n     noteFreq[octave]['G#'] = 51.913087197493142\n     noteFreq[octave]['A'] = 55.000000000000000\n     noteFreq[octave]['A#'] = 58.270470189761239\n     noteFreq[octave]['B'] = 61.735412657015513\n\n     for (var pitch in noteFreq[octave]) {\n       for (let i = 2; i < 8; i++) {\n         noteFreq[i][pitch] = noteFreq[i - 1][pitch] * 2\n       }\n     }\n\n     this._noteFreq = noteFreq\n     return noteFreq\n   }\n\n   createKeyboard (octave) {\n     let keyIndex = 0\n\n     this._noteFreq.forEach((keys, i1) => {\n       if (i1 <= octave + 1 && i1 >= octave) {\n         let keyList = Object.entries(keys)\n         let whiteKeys = document.createElement('div')\n         let blackKeys = document.createElement('div')\n         let octaveElem = document.createElement('div')\n         octaveElem.className = 'octave'\n\n         keyList.forEach((key, i2) => {\n           if (key[0].length > 1) {\n             blackKeys.appendChild(this.createKey(key[0], i1, key[1], keyIndex))\n           } else {\n             whiteKeys.appendChild(this.createKey(key[0], i1, key[1], keyIndex))\n           }\n\n           keyIndex++\n         })\n\n         octaveElem.appendChild(blackKeys)\n         octaveElem.appendChild(whiteKeys)\n         this._keyboard.appendChild(octaveElem)\n       }\n     })\n   }\n\n   setup () {\n     this._noteFreq = this.createNoteTable(1)\n     this._masterGainNode = this._audioContext.createGain()\n     this._masterGainNode.connect(this._audioContext.destination)\n     this._masterGainNode.gain.value = this._volumeControl.value\n     this._noteLength = 500\n\n     this.createKeyboard(3)\n\n     this._sineTerms = new Float32Array([0, 0, 1, 0, 1])\n     this._cosineTerms = new Float32Array(this._sineTerms.length)\n     this._customWaveform = this._audioContext.createPeriodicWave(this._cosineTerms, this._sineTerms)\n   }\n\n   createKey (note, octave, freq, keyIndex) {\n     let keyElement = document.createElement('div')\n     let labelElement = document.createElement('div')\n\n     keyElement.className = 'key'\n     keyElement.id = `key${this._triggerKeys[keyIndex]}`\n     keyElement.dataset['octave'] = octave\n     keyElement.dataset['note'] = note\n     keyElement.dataset['frequency'] = freq\n\n     if (note.length > 1) {\n       keyElement.setAttribute('class', 'sharpKey')\n     }\n\n     labelElement.innerHTML = this._triggerKeys[keyIndex]\n\n     keyElement.appendChild(labelElement)\n\n     keyElement.addEventListener('mousedown', event => {\n       this.notePressed(keyElement)\n     }, false)\n     keyElement.addEventListener('mouseup', event => {\n       this.noteReleased(keyElement)\n     }, false)\n     keyElement.addEventListener('mouseover', event => {\n       this.noteReleased(keyElement)\n     }, false)\n     keyElement.addEventListener('mouseleave', event => {\n       this.noteReleased(keyElement)\n     }, false)\n\n     return keyElement\n   }\n\n   playTone (freq) {\n     let osc = this._audioContext.createOscillator()\n     osc.connect(this._masterGainNode)\n\n     let type = this._wavePicker.options[this._wavePicker.selectedIndex].value\n\n     if (type === 'custom') {\n       osc.setPeriodicWave(this._customWaveform)\n     } else {\n       osc.type = type\n     }\n\n     osc.frequency.value = freq\n     osc.start()\n\n     return osc\n   }\n\n   notePressed (keyElement, id, cell) {\n     let dataset = keyElement.dataset\n\n     if (!dataset['pressed']) {\n       if (cell) {\n         let cellId = cell.getAttribute('row') + cell.getAttribute('column')\n         let row = Number(cellId[0])\n\n         if (this._activeNotes[row] !== null) {\n           this.noteReleased(this._activeNotes[row].keyElement, this._activeNotes[row].id, this._activeNotes[row].cellId)\n         }\n\n         this._activeNotes[row] = {\n           keyElement: keyElement,\n           id: id,\n           cellId: cellId\n         }\n\n         this._oscList[cellId] = this.playTone(dataset['frequency'])\n\n         this._noteLength = Number(cell.getAttribute('noteLength'))\n\n         setTimeout(() => {\n           this.noteReleased(keyElement, id, cellId)\n         }, this._noteLength)\n       } else {\n         this._oscList[id] = this.playTone(dataset['frequency'])\n       }\n\n       dataset['pressed'] = 'yes'\n     }\n   }\n\n   noteReleased (keyElement, id, cellId) {\n     let dataset = keyElement.dataset\n\n     if (dataset && dataset['pressed']) {\n       if (cellId) {\n         this._oscList[cellId].stop()\n         delete this._oscList[cellId]\n       } else {\n         this._oscList[id].stop()\n         delete this._oscList[id]\n       }\n       delete dataset['pressed']\n     }\n   }\n\n   changeVolume () {\n     this._masterGainNode.gain.value = this._volumeControl.value\n   }\n}\n\n window.customElements.define('synth-element', Synth)\n\n module.exports = Synth\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9zeW50aC5qcz9jZTFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogV2ViY29tcG9uZW50IGZvciBjcmVhdGluZyBhIHN5bnRoIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBtb2R1bGUgc3JjL3N5bnRoLmpzXG4gKiBAYXV0aG9yIExvd2UgTWFya2x1bmRcbiAqIEB2ZXJzaW9uIDEuMFxuICovXG5cbiAndXNlIHN0cmljdCdcblxuIGNvbnN0IFN5bnRoVGVtcGxhdGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlcy9zeW50aFRlbXBsYXRlJylcbiBjb25zdCB0ZW1wbGF0ZSA9IFN5bnRoVGVtcGxhdGUudGVtcGxhdGVcblxuLyoqXG4gKiBTeW50aC5cbiAqXG4gKiBAY2xhc3MgU3ludGhcbiAqIEBleHRlbmRzIHt3aW5kb3cuSFRNTEVsZW1lbnR9XG4gKi9cblxuIGNsYXNzIFN5bnRoIGV4dGVuZHMgd2luZG93LkhUTUxFbGVtZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgTWVtb3J5IC5cbiAgICogQG1lbWJlcm9mIFN5bnRoXG4gICAqL1xuICAgY29uc3RydWN0b3IgKCkge1xuICAgICBzdXBlcigpXG4gICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KVxuICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpXG4gICAgIHRoaXMuX3N5bnRoID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5zeW50aCcpXG4gICAgIHRoaXMuX2tleWJvYXJkID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5rZXlib2FyZCcpXG4gICAgIHRoaXMuX25ld0tleWJvYXJkID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5uZXdLZXlib2FyZCcpXG4gICAgIHRoaXMuX3dhdmVQaWNrZXIgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInNlbGVjdFtuYW1lPSd3YXZlZm9ybSddXCIpXG4gICAgIHRoaXMuX29jdGF2ZVBpY2tlciA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwic2VsZWN0W25hbWU9J29jdGF2ZSddXCIpXG4gICAgIHRoaXMuX3ZvbHVtZUNvbnRyb2wgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J3ZvbHVtZSddXCIpXG4gICAgIHRoaXMuX2F1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpXG4gICAgIHRoaXMuX3RyaWdnZXJLZXlzID0gWydUYWInLCAnMScsICdxJywgJzInLCAndycsICdlJywgJzQnLCAncicsICc1JywgJ3QnLCAnNicsICd5JywgJ3UnLCAnOCcsICdpJywgJzknLCAnbycsICdwJywgJzAnLCAnw6UnLCAnwrQnLCAnwqgnLCAnXFx1MjdmNScsICdcXHUyMWI1J11cbiAgICAgdGhpcy5fb3NjTGlzdCA9IHt9XG4gICAgIHRoaXMuX21hc3RlckdhaW5Ob2RlID0gbnVsbFxuICAgICB0aGlzLl9ub3RlRnJlcSA9IG51bGxcbiAgICAgdGhpcy5fY3VzdG9tV2F2ZWZvcm0gPSBudWxsXG4gICAgIHRoaXMuX3NpbmVUZXJtcyA9IG51bGxcbiAgICAgdGhpcy5fY29zaW5lVGVybXMgPSBudWxsXG4gICAgIHRoaXMuX3NlcXVlbmNlciA9IG51bGxcbiAgICAgdGhpcy5fYWN0aXZlTm90ZXMgPSB7XG4gICAgICAgMTogbnVsbCxcbiAgICAgICAyOiBudWxsLFxuICAgICAgIDM6IG51bGwsXG4gICAgICAgNDogbnVsbCxcbiAgICAgICA1OiBudWxsLFxuICAgICAgIDY6IG51bGwsXG4gICAgICAgNzogbnVsbCxcbiAgICAgICA4OiBudWxsXG4gICAgIH1cbiAgIH1cblxuICAvKipcbiAgICogV2F0Y2hlcyBhdHRyaWJ1dGVzIGZvciBjaGFuZ2VzIG9uIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmVhZG9ubHlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgU3ludGhcbiAgICovXG4gICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcyAoKSB7XG5cbiAgIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSBicm93c2VyIGVuZ2luZSB3aGVuIGFuIGF0dHJpYnV0ZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlTmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkVmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1ZhbHVlXG4gICAqIEBtZW1iZXJvZiBTeW50aFxuICAgKi9cbiAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayAoYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cbiAgIH1cbiAgICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZSBET00uXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTeW50aFxuICAgKi9cbiAgIGNvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICAgdGhpcy5zZXR1cCgpXG4gICAgIHRoaXMuaW5wdXRMaXN0ZW4oKVxuICAgfVxuXG4gICAgIC8qKlxuICAgKiBMaXN0ZW5zIGFmdGVyIGlucHV0IGZyb20gdGhlIHVzZXIuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBTeW50aFxuICAgKi9cbiAgIGlucHV0TGlzdGVuICgpIHtcbiAgICAgdGhpcy5fb2N0YXZlUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICBsZXQga2V5Ym9hcmRPY3RhdmVzID0gdGhpcy5fa2V5Ym9hcmQucXVlcnlTZWxlY3RvckFsbCgnLm9jdGF2ZScpXG5cbiAgICAgICAgLy8gcmVtb3ZlcyBwcmV2aW91cyBrZXlib2FyZCBvY3RhdmVzXG4gICAgICAga2V5Ym9hcmRPY3RhdmVzLmZvckVhY2gob2N0YXZlID0+IHtcbiAgICAgICAgIHRoaXMuX2tleWJvYXJkLnJlbW92ZUNoaWxkKG9jdGF2ZSlcbiAgICAgICB9KVxuXG4gICAgICAgdGhpcy5fbm90ZUZyZXEgPSB0aGlzLmNyZWF0ZU5vdGVUYWJsZSgxKVxuICAgICAgIHRoaXMuY3JlYXRlS2V5Ym9hcmQoTnVtYmVyKHRoaXMuX29jdGF2ZVBpY2tlci52YWx1ZSkpXG4gICAgIH0sIGZhbHNlKVxuXG4gICAgIHRoaXMuX3ZvbHVtZUNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgIHRoaXMuY2hhbmdlVm9sdW1lKClcbiAgICAgfSwgZmFsc2UpXG5cbiAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMuX3NlcXVlbmNlcikge1xuICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgbGV0IHRyaWdnZXJlZEtleSA9IGV2ZW50LmtleVxuICAgICAgICAgc3dpdGNoIChldmVudC5jb2RlKSB7XG4gICAgICAgICAgIGNhc2UgJ0JyYWNrZXRSaWdodCc6XG4gICAgICAgICAgICAgdHJpZ2dlcmVkS2V5ID0gJ8KoJ1xuICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgICB0cmlnZ2VyZWRLZXkgPSAnXFx1MjFiNSdcbiAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICBjYXNlICdCYWNrc3BhY2UnOlxuICAgICAgICAgICAgIHRyaWdnZXJlZEtleSA9ICdcXHUyN2Y1J1xuICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgIGNhc2UgJ0VxdWFsJzpcbiAgICAgICAgICAgICB0cmlnZ2VyZWRLZXkgPSAnwrQnXG4gICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgIH1cbiAgICAgICAgIGlmIChldmVudC5yZXBlYXQgPT09IGZhbHNlICYmIHRoaXMuX3RyaWdnZXJLZXlzLmluY2x1ZGVzKHRyaWdnZXJlZEtleSkpIHtcbiAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuX2tleWJvYXJkLnF1ZXJ5U2VsZWN0b3IoYCNrZXkke3RyaWdnZXJlZEtleX1gKVxuICAgICAgICAgICB0aGlzLm5vdGVQcmVzc2VkKGtleSwgdHJpZ2dlcmVkS2V5KVxuICAgICAgICAgICBrZXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM1OTknXG4gICAgICAgICB9XG4gICAgICAgfVxuICAgICB9KVxuXG4gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgICBsZXQgdHJpZ2dlcmVkS2V5ID0gZXZlbnQua2V5XG5cbiAgICAgICBzd2l0Y2ggKGV2ZW50LmNvZGUpIHtcbiAgICAgICAgIGNhc2UgJ0JyYWNrZXRSaWdodCc6XG4gICAgICAgICAgIHRyaWdnZXJlZEtleSA9ICfCqCdcbiAgICAgICAgICAgYnJlYWtcbiAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgdHJpZ2dlcmVkS2V5ID0gJ1xcdTIxYjUnXG4gICAgICAgICAgIGJyZWFrXG4gICAgICAgICBjYXNlICdCYWNrc3BhY2UnOlxuICAgICAgICAgICB0cmlnZ2VyZWRLZXkgPSAnXFx1MjdmNSdcbiAgICAgICAgICAgYnJlYWtcbiAgICAgICAgIGNhc2UgJ0VxdWFsJzpcbiAgICAgICAgICAgdHJpZ2dlcmVkS2V5ID0gJ8K0J1xuICAgICAgICAgICBicmVha1xuICAgICAgIH1cbiAgICAgICBpZiAodGhpcy5fdHJpZ2dlcktleXMuaW5jbHVkZXModHJpZ2dlcmVkS2V5KSkge1xuICAgICAgICAgbGV0IGtleSA9IHRoaXMuX2tleWJvYXJkLnF1ZXJ5U2VsZWN0b3IoYCNrZXkke3RyaWdnZXJlZEtleX1gKVxuICAgICAgICAgdGhpcy5ub3RlUmVsZWFzZWQoa2V5LCB0cmlnZ2VyZWRLZXkpXG4gICAgICAgICBrZXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJ1xuXG4gICAgICAgICBpZiAoa2V5LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ3NoYXJwS2V5Jykge1xuICAgICAgICAgICBrZXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsYWNrJ1xuICAgICAgICAgfVxuICAgICAgIH1cbiAgICAgfSwgZmFsc2UpXG4gICB9XG5cbiAgICAgIC8qKlxuICAgKiBDcmVhdGVzIGFycmF5IG9mIHBpdGNoZXNcbiAgICpcbiAgICogQG1lbWJlcm9mIFN5bnRoXG4gICAqL1xuICAgY3JlYXRlTm90ZVRhYmxlIChvY3RhdmUpIHtcbiAgICAgbGV0IG5vdGVGcmVxID0gW11cblxuICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgIG5vdGVGcmVxW29jdGF2ZSArIGldID0gW11cbiAgICAgfVxuXG4gICAgIG5vdGVGcmVxW29jdGF2ZV1bJ0MnXSA9IDMyLjcwMzE5NTY2MjU3NDgyOVxuICAgICBub3RlRnJlcVtvY3RhdmVdWydDIyddID0gMzQuNjQ3ODI4ODcyMTA5MDEyXG4gICAgIG5vdGVGcmVxW29jdGF2ZV1bJ0QnXSA9IDM2LjcwODA5NTk4OTY3NTk0NVxuICAgICBub3RlRnJlcVtvY3RhdmVdWydEIyddID0gMzguODkwODcyOTY1MjYwMTEzXG4gICAgIG5vdGVGcmVxW29jdGF2ZV1bJ0UnXSA9IDQxLjIwMzQ0NDYxNDEwODc0MVxuICAgICBub3RlRnJlcVtvY3RhdmVdWydGJ10gPSA0My42NTM1Mjg5MjkxMjU0ODVcbiAgICAgbm90ZUZyZXFbb2N0YXZlXVsnRiMnXSA9IDQ2LjI0OTMwMjgzODk1NDI5OVxuICAgICBub3RlRnJlcVtvY3RhdmVdWydHJ10gPSA0OC45OTk0Mjk0OTc3MTg2NjFcbiAgICAgbm90ZUZyZXFbb2N0YXZlXVsnRyMnXSA9IDUxLjkxMzA4NzE5NzQ5MzE0MlxuICAgICBub3RlRnJlcVtvY3RhdmVdWydBJ10gPSA1NS4wMDAwMDAwMDAwMDAwMDBcbiAgICAgbm90ZUZyZXFbb2N0YXZlXVsnQSMnXSA9IDU4LjI3MDQ3MDE4OTc2MTIzOVxuICAgICBub3RlRnJlcVtvY3RhdmVdWydCJ10gPSA2MS43MzU0MTI2NTcwMTU1MTNcblxuICAgICBmb3IgKHZhciBwaXRjaCBpbiBub3RlRnJlcVtvY3RhdmVdKSB7XG4gICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgIG5vdGVGcmVxW2ldW3BpdGNoXSA9IG5vdGVGcmVxW2kgLSAxXVtwaXRjaF0gKiAyXG4gICAgICAgfVxuICAgICB9XG5cbiAgICAgdGhpcy5fbm90ZUZyZXEgPSBub3RlRnJlcVxuICAgICByZXR1cm4gbm90ZUZyZXFcbiAgIH1cblxuICAgY3JlYXRlS2V5Ym9hcmQgKG9jdGF2ZSkge1xuICAgICBsZXQga2V5SW5kZXggPSAwXG5cbiAgICAgdGhpcy5fbm90ZUZyZXEuZm9yRWFjaCgoa2V5cywgaTEpID0+IHtcbiAgICAgICBpZiAoaTEgPD0gb2N0YXZlICsgMSAmJiBpMSA+PSBvY3RhdmUpIHtcbiAgICAgICAgIGxldCBrZXlMaXN0ID0gT2JqZWN0LmVudHJpZXMoa2V5cylcbiAgICAgICAgIGxldCB3aGl0ZUtleXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgbGV0IGJsYWNrS2V5cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICBsZXQgb2N0YXZlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICBvY3RhdmVFbGVtLmNsYXNzTmFtZSA9ICdvY3RhdmUnXG5cbiAgICAgICAgIGtleUxpc3QuZm9yRWFjaCgoa2V5LCBpMikgPT4ge1xuICAgICAgICAgICBpZiAoa2V5WzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICBibGFja0tleXMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVLZXkoa2V5WzBdLCBpMSwga2V5WzFdLCBrZXlJbmRleCkpXG4gICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgd2hpdGVLZXlzLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlS2V5KGtleVswXSwgaTEsIGtleVsxXSwga2V5SW5kZXgpKVxuICAgICAgICAgICB9XG5cbiAgICAgICAgICAga2V5SW5kZXgrK1xuICAgICAgICAgfSlcblxuICAgICAgICAgb2N0YXZlRWxlbS5hcHBlbmRDaGlsZChibGFja0tleXMpXG4gICAgICAgICBvY3RhdmVFbGVtLmFwcGVuZENoaWxkKHdoaXRlS2V5cylcbiAgICAgICAgIHRoaXMuX2tleWJvYXJkLmFwcGVuZENoaWxkKG9jdGF2ZUVsZW0pXG4gICAgICAgfVxuICAgICB9KVxuICAgfVxuXG4gICBzZXR1cCAoKSB7XG4gICAgIHRoaXMuX25vdGVGcmVxID0gdGhpcy5jcmVhdGVOb3RlVGFibGUoMSlcbiAgICAgdGhpcy5fbWFzdGVyR2Fpbk5vZGUgPSB0aGlzLl9hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpXG4gICAgIHRoaXMuX21hc3RlckdhaW5Ob2RlLmNvbm5lY3QodGhpcy5fYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKVxuICAgICB0aGlzLl9tYXN0ZXJHYWluTm9kZS5nYWluLnZhbHVlID0gdGhpcy5fdm9sdW1lQ29udHJvbC52YWx1ZVxuICAgICB0aGlzLl9ub3RlTGVuZ3RoID0gNTAwXG5cbiAgICAgdGhpcy5jcmVhdGVLZXlib2FyZCgzKVxuXG4gICAgIHRoaXMuX3NpbmVUZXJtcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDFdKVxuICAgICB0aGlzLl9jb3NpbmVUZXJtcyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fc2luZVRlcm1zLmxlbmd0aClcbiAgICAgdGhpcy5fY3VzdG9tV2F2ZWZvcm0gPSB0aGlzLl9hdWRpb0NvbnRleHQuY3JlYXRlUGVyaW9kaWNXYXZlKHRoaXMuX2Nvc2luZVRlcm1zLCB0aGlzLl9zaW5lVGVybXMpXG4gICB9XG5cbiAgIGNyZWF0ZUtleSAobm90ZSwgb2N0YXZlLCBmcmVxLCBrZXlJbmRleCkge1xuICAgICBsZXQga2V5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgIGxldCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXG4gICAgIGtleUVsZW1lbnQuY2xhc3NOYW1lID0gJ2tleSdcbiAgICAga2V5RWxlbWVudC5pZCA9IGBrZXkke3RoaXMuX3RyaWdnZXJLZXlzW2tleUluZGV4XX1gXG4gICAgIGtleUVsZW1lbnQuZGF0YXNldFsnb2N0YXZlJ10gPSBvY3RhdmVcbiAgICAga2V5RWxlbWVudC5kYXRhc2V0Wydub3RlJ10gPSBub3RlXG4gICAgIGtleUVsZW1lbnQuZGF0YXNldFsnZnJlcXVlbmN5J10gPSBmcmVxXG5cbiAgICAgaWYgKG5vdGUubGVuZ3RoID4gMSkge1xuICAgICAgIGtleUVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdzaGFycEtleScpXG4gICAgIH1cblxuICAgICBsYWJlbEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fdHJpZ2dlcktleXNba2V5SW5kZXhdXG5cbiAgICAga2V5RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpXG5cbiAgICAga2V5RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgdGhpcy5ub3RlUHJlc3NlZChrZXlFbGVtZW50KVxuICAgICB9LCBmYWxzZSlcbiAgICAga2V5RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgICAgIHRoaXMubm90ZVJlbGVhc2VkKGtleUVsZW1lbnQpXG4gICAgIH0sIGZhbHNlKVxuICAgICBrZXlFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGV2ZW50ID0+IHtcbiAgICAgICB0aGlzLm5vdGVSZWxlYXNlZChrZXlFbGVtZW50KVxuICAgICB9LCBmYWxzZSlcbiAgICAga2V5RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZXZlbnQgPT4ge1xuICAgICAgIHRoaXMubm90ZVJlbGVhc2VkKGtleUVsZW1lbnQpXG4gICAgIH0sIGZhbHNlKVxuXG4gICAgIHJldHVybiBrZXlFbGVtZW50XG4gICB9XG5cbiAgIHBsYXlUb25lIChmcmVxKSB7XG4gICAgIGxldCBvc2MgPSB0aGlzLl9hdWRpb0NvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpXG4gICAgIG9zYy5jb25uZWN0KHRoaXMuX21hc3RlckdhaW5Ob2RlKVxuXG4gICAgIGxldCB0eXBlID0gdGhpcy5fd2F2ZVBpY2tlci5vcHRpb25zW3RoaXMuX3dhdmVQaWNrZXIuc2VsZWN0ZWRJbmRleF0udmFsdWVcblxuICAgICBpZiAodHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICBvc2Muc2V0UGVyaW9kaWNXYXZlKHRoaXMuX2N1c3RvbVdhdmVmb3JtKVxuICAgICB9IGVsc2Uge1xuICAgICAgIG9zYy50eXBlID0gdHlwZVxuICAgICB9XG5cbiAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXFcbiAgICAgb3NjLnN0YXJ0KClcblxuICAgICByZXR1cm4gb3NjXG4gICB9XG5cbiAgIG5vdGVQcmVzc2VkIChrZXlFbGVtZW50LCBpZCwgY2VsbCkge1xuICAgICBsZXQgZGF0YXNldCA9IGtleUVsZW1lbnQuZGF0YXNldFxuXG4gICAgIGlmICghZGF0YXNldFsncHJlc3NlZCddKSB7XG4gICAgICAgaWYgKGNlbGwpIHtcbiAgICAgICAgIGxldCBjZWxsSWQgPSBjZWxsLmdldEF0dHJpYnV0ZSgncm93JykgKyBjZWxsLmdldEF0dHJpYnV0ZSgnY29sdW1uJylcbiAgICAgICAgIGxldCByb3cgPSBOdW1iZXIoY2VsbElkWzBdKVxuXG4gICAgICAgICBpZiAodGhpcy5fYWN0aXZlTm90ZXNbcm93XSAhPT0gbnVsbCkge1xuICAgICAgICAgICB0aGlzLm5vdGVSZWxlYXNlZCh0aGlzLl9hY3RpdmVOb3Rlc1tyb3ddLmtleUVsZW1lbnQsIHRoaXMuX2FjdGl2ZU5vdGVzW3Jvd10uaWQsIHRoaXMuX2FjdGl2ZU5vdGVzW3Jvd10uY2VsbElkKVxuICAgICAgICAgfVxuXG4gICAgICAgICB0aGlzLl9hY3RpdmVOb3Rlc1tyb3ddID0ge1xuICAgICAgICAgICBrZXlFbGVtZW50OiBrZXlFbGVtZW50LFxuICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgIGNlbGxJZDogY2VsbElkXG4gICAgICAgICB9XG5cbiAgICAgICAgIHRoaXMuX29zY0xpc3RbY2VsbElkXSA9IHRoaXMucGxheVRvbmUoZGF0YXNldFsnZnJlcXVlbmN5J10pXG5cbiAgICAgICAgIHRoaXMuX25vdGVMZW5ndGggPSBOdW1iZXIoY2VsbC5nZXRBdHRyaWJ1dGUoJ25vdGVMZW5ndGgnKSlcblxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgIHRoaXMubm90ZVJlbGVhc2VkKGtleUVsZW1lbnQsIGlkLCBjZWxsSWQpXG4gICAgICAgICB9LCB0aGlzLl9ub3RlTGVuZ3RoKVxuICAgICAgIH0gZWxzZSB7XG4gICAgICAgICB0aGlzLl9vc2NMaXN0W2lkXSA9IHRoaXMucGxheVRvbmUoZGF0YXNldFsnZnJlcXVlbmN5J10pXG4gICAgICAgfVxuXG4gICAgICAgZGF0YXNldFsncHJlc3NlZCddID0gJ3llcydcbiAgICAgfVxuICAgfVxuXG4gICBub3RlUmVsZWFzZWQgKGtleUVsZW1lbnQsIGlkLCBjZWxsSWQpIHtcbiAgICAgbGV0IGRhdGFzZXQgPSBrZXlFbGVtZW50LmRhdGFzZXRcblxuICAgICBpZiAoZGF0YXNldCAmJiBkYXRhc2V0WydwcmVzc2VkJ10pIHtcbiAgICAgICBpZiAoY2VsbElkKSB7XG4gICAgICAgICB0aGlzLl9vc2NMaXN0W2NlbGxJZF0uc3RvcCgpXG4gICAgICAgICBkZWxldGUgdGhpcy5fb3NjTGlzdFtjZWxsSWRdXG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIHRoaXMuX29zY0xpc3RbaWRdLnN0b3AoKVxuICAgICAgICAgZGVsZXRlIHRoaXMuX29zY0xpc3RbaWRdXG4gICAgICAgfVxuICAgICAgIGRlbGV0ZSBkYXRhc2V0WydwcmVzc2VkJ11cbiAgICAgfVxuICAgfVxuXG4gICBjaGFuZ2VWb2x1bWUgKCkge1xuICAgICB0aGlzLl9tYXN0ZXJHYWluTm9kZS5nYWluLnZhbHVlID0gdGhpcy5fdm9sdW1lQ29udHJvbC52YWx1ZVxuICAgfVxufVxuXG4gd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc3ludGgtZWxlbWVudCcsIFN5bnRoKVxuXG4gbW9kdWxlLmV4cG9ydHMgPSBTeW50aFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvc3ludGguanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

eval("const template = document.createElement('template')\n\ntemplate.innerHTML =\n\ntemplate.innerHTML =\n\n`<div class=\"synth\">\n    <div class=\"keyboard\">\n      <div class=\"settingsBar\">\n        <div class=\"volumeInput\">\n          <span>Volume: </span>\n          <input type=\"range\" min=\"0.0\" max=\"1.0\" step=\"0.01\"\n              value=\"0.5\" list=\"volumes\" name=\"volume\">\n          <datalist id=\"volumes\">\n            <option value=\"0.0\" label=\"Mute\">\n            <option value=\"1.0\" label=\"100%\">\n          </datalist>\n        </div>\n        <div class=\"right\">\n          <span>Current waveform: </span>\n          <select name=\"waveform\">\n            <option value=\"sine\">Sine</option>\n            <option value=\"square\" selected>Square</option>\n            <option value=\"sawtooth\">Sawtooth</option>\n            <option value=\"triangle\">Triangle</option>\n          </select>\n          <span>Current octave: </span>\n          <select name=\"octave\">\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\" selected>3</option>\n            <option value=\"4\">4</option>\n            <option value=\"5\">5</option>\n            <option value=\"6\">6</option>\n            <option value=\"7\">7</option>\n          </select>\n        </div>\n    </div>\n  </div>\n  <div>\n<div>\n    <style>\n      .synth {\n        width: 500px;\n        height: 110px;\n        white-space: nowrap;\n        margin-left: 10px;\n    \n      }\n      .keyboard {\n        width: auto;\n        padding: 10px;\n        margin: 20px;\n       \n      }\n      \n      .key {\n        cursor: pointer;\n        font: 10px \"Open Sans\", \"Lucida Grande\", \"Arial\", sans-serif;\n        border: 1px solid black;\n        border-radius: 5px;\n        width: 20px;\n        height: 80px;\n        padding: 10px;\n        text-align: center;\n        box-shadow: 2px 2px darkgray;\n        display: inline-block;\n        position: relative;\n        margin-right: 3px;\n        user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n      }\n      \n      .key div {\n        position: flexible;\n        bottom: 0;\n        text-align: center;\n        width: 100%;\n        pointer-events: none;\n      }\n      \n      .key div sub {\n        font-size: 10px;\n        pointer-events: none;\n      }\n      \n      .key:active {\n        background-color: #599;\n        color: #fff;\n      }\n\n      .sharpKey:active {\n        background-color: #599;\n        color: #fff;\n      }\n\n      \n      .octave {\n        display: inline-block;\n        padding: 0 6px 0 0;\n      }\n      \n      .settingsBar {\n        margin-bottom: 20px;\n        padding: 20px;\n        font: 14px \"Open Sans\", \"Lucida Grande\", \"Arial\", sans-serif;\n        position: flexible;\n        vertical-align: middle;\n        width: 100%;\n        height: 30px;\n      }\n      .right {\n        margin: 10px;\n        text-align: center;\n      }\n\n      .volumeInput{\n        text-align: center;\n      }\n\n      .sharpKey {\n        cursor: pointer;\n        font: 10px \"Open Sans\", \"Lucida Grande\", \"Arial\", sans-serif;\n        border: 1px solid black;\n        border-radius: 5px;\n        width: 10px;\n        height: 80px;\n        padding: 10px;\n        text-align: center;\n        box-shadow: 2px 2px darkgray;\n        display: inline-block;\n        position: relative;\n        margin-right: 3px;\n        user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        background-color: black;\n        color: white;\n        margin-left: 20px;\n      }\n    </style>\n</div>\n`\n\nmodule.exports.template = template\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy90ZW1wbGF0ZXMvc3ludGhUZW1wbGF0ZS5qcz9jYjM5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKVxuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPVxuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPVxuXG5gPGRpdiBjbGFzcz1cInN5bnRoXCI+XG4gICAgPGRpdiBjbGFzcz1cImtleWJvYXJkXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZ3NCYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZvbHVtZUlucHV0XCI+XG4gICAgICAgICAgPHNwYW4+Vm9sdW1lOiA8L3NwYW4+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjAuMFwiIG1heD1cIjEuMFwiIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgdmFsdWU9XCIwLjVcIiBsaXN0PVwidm9sdW1lc1wiIG5hbWU9XCJ2b2x1bWVcIj5cbiAgICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJ2b2x1bWVzXCI+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMC4wXCIgbGFiZWw9XCJNdXRlXCI+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMS4wXCIgbGFiZWw9XCIxMDAlXCI+XG4gICAgICAgICAgPC9kYXRhbGlzdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuICAgICAgICAgIDxzcGFuPkN1cnJlbnQgd2F2ZWZvcm06IDwvc3Bhbj5cbiAgICAgICAgICA8c2VsZWN0IG5hbWU9XCJ3YXZlZm9ybVwiPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInNpbmVcIj5TaW5lPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3F1YXJlXCIgc2VsZWN0ZWQ+U3F1YXJlPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic2F3dG9vdGhcIj5TYXd0b290aDwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRyaWFuZ2xlXCI+VHJpYW5nbGU8L29wdGlvbj5cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8c3Bhbj5DdXJyZW50IG9jdGF2ZTogPC9zcGFuPlxuICAgICAgICAgIDxzZWxlY3QgbmFtZT1cIm9jdGF2ZVwiPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj4xPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMlwiPjI8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIzXCIgc2VsZWN0ZWQ+Mzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjRcIj40PC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNVwiPjU8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI2XCI+Njwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjdcIj43PC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdj5cbjxkaXY+XG4gICAgPHN0eWxlPlxuICAgICAgLnN5bnRoIHtcbiAgICAgICAgd2lkdGg6IDUwMHB4O1xuICAgICAgICBoZWlnaHQ6IDExMHB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICBcbiAgICAgIH1cbiAgICAgIC5rZXlib2FyZCB7XG4gICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBtYXJnaW46IDIwcHg7XG4gICAgICAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIC5rZXkge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQ6IDEwcHggXCJPcGVuIFNhbnNcIiwgXCJMdWNpZGEgR3JhbmRlXCIsIFwiQXJpYWxcIiwgc2Fucy1zZXJpZjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgIGhlaWdodDogODBweDtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBib3gtc2hhZG93OiAycHggMnB4IGRhcmtncmF5O1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5rZXkgZGl2IHtcbiAgICAgICAgcG9zaXRpb246IGZsZXhpYmxlO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgfVxuICAgICAgXG4gICAgICAua2V5IGRpdiBzdWIge1xuICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgfVxuICAgICAgXG4gICAgICAua2V5OmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1OTk7XG4gICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAuc2hhcnBLZXk6YWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU5OTtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB9XG5cbiAgICAgIFxuICAgICAgLm9jdGF2ZSB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgcGFkZGluZzogMCA2cHggMCAwO1xuICAgICAgfVxuICAgICAgXG4gICAgICAuc2V0dGluZ3NCYXIge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBmb250OiAxNHB4IFwiT3BlbiBTYW5zXCIsIFwiTHVjaWRhIEdyYW5kZVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWY7XG4gICAgICAgIHBvc2l0aW9uOiBmbGV4aWJsZTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIH1cbiAgICAgIC5yaWdodCB7XG4gICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAudm9sdW1lSW5wdXR7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNoYXJwS2V5IHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250OiAxMHB4IFwiT3BlbiBTYW5zXCIsIFwiTHVjaWRhIEdyYW5kZVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWY7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgYm94LXNoYWRvdzogMnB4IDJweCBkYXJrZ3JheTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9kaXY+XG5gXG5cbm1vZHVsZS5leHBvcnRzLnRlbXBsYXRlID0gdGVtcGxhdGVcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL3RlbXBsYXRlcy9zeW50aFRlbXBsYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

eval("const template = document.createElement('template')\n\ntemplate.innerHTML =\n\n`<div class=\"sequencer\">\n    <div class=\"logs\">\n        <div class=\"bpmLog\">BPM: 150</div>\n        <div class=\"loopLengthLog\">Length: 16 </div>\n    </div>\n    <div class=\"inputs\">\n        <input class=\"bmpInput\" placeholder=\"Enter tempo (BPM) max = 300 min = 30\"></input>\n        <input class=\"loopLengthInput\" placeholder=\"Enter loop length (max = 32 min = 1)\"></input>\n    </div>\n    <div class=\"grid\"></div>\n    <img class=\"pausePlayButton\" type=\"play\" src=\"/image/icons8-play-button-50.png\" alt=\"pause/play icon\">\n    <div class=\"info\">Click icons and numbers to change track sound</div>\n    <button class=\"clearButton\">Clear Grid</button>\n    <style>\n        .sequencer {\n            margin-left: 30px;\n            margin-right: 20px;\n            width: 500;\n            font-family: avenir;\n            text-align: center;\n            user-drag: none; \n            user-select: none;\n            -moz-user-select: none;\n            -khtml-user-select: none;\n            -webkit-user-select: none;\n            -o-user-select: none;\n        }\n        .instrumentLog {\n            text-align: center;\n            font-size: 30px;\n            margin: 10px;\n            font-family: avenir;\n        }\n        .logs {\n            text-align: center;\n            margin-right: 5px;\n            width: auto;\n        }\n\n        .logs div {\n            display: inline-block;\n            text-align: center;\n            margin-left: 70px;\n            margin-right: 70px;\n        }\n\n        .info {\n            font-size: 10px;\n            margin: 10px;\n        }\n\n        }\n        .inputs {\n            float: center;\n        }\n\n        .inputs input{\n            text-align: center;\n            margin: 10px;\n            margin-left: 9px;\n            margin-right: 9px;\n            margin-top: 5px;\n            font-size: 8px;\n            width: 200px;\n        }\n\n        .grid {\n            text-align: center;  \n        }\n\n        .cell {\n            height: 15px;\n            width: 15px;\n            position: relative;\n            box-shadow: 1px 1px 5px rgba(0, 0, 0, .5);\n            padding: 5px;\n            margin: 1px;\n            border-radius: 3px;\n            background: white;\n        }\n\n        .instrumentIcon{\n            height: 15px;\n            width: 15px;\n            position: relative;\n            padding: 5px;\n            margin-left: -42px;\n            margin-bottom: -1px;\n            border-radius: 3px;\n            position:absolute;\n\n        }\n\n        .instrumentNumber {\n            display: inline;\n            margin-left: -18px;\n            margin-top: 5px;\n            position:absolute;\n        \n        }\n\n        .pausePlayButton {\n           margin-top: 10px;\n           margin-right: 0px;\n           width: 30px\n        }\n\n        .clearButton {\n            text-align: left;\n        }\n\n        .changeNoteMenu {\n            display: inline-block;\n        }\n    </style>\n</div>\n`\nmodule.exports.template = template\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy90ZW1wbGF0ZXMvc2VxdWVuY2VyVGVtcGxhdGUuanM/NTQ5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJylcblxudGVtcGxhdGUuaW5uZXJIVE1MID1cblxuYDxkaXYgY2xhc3M9XCJzZXF1ZW5jZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwibG9nc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnBtTG9nXCI+QlBNOiAxNTA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvb3BMZW5ndGhMb2dcIj5MZW5ndGg6IDE2IDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJpbnB1dHNcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzPVwiYm1wSW5wdXRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRlbXBvIChCUE0pIG1heCA9IDMwMCBtaW4gPSAzMFwiPjwvaW5wdXQ+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cImxvb3BMZW5ndGhJbnB1dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbG9vcCBsZW5ndGggKG1heCA9IDMyIG1pbiA9IDEpXCI+PC9pbnB1dD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZ3JpZFwiPjwvZGl2PlxuICAgIDxpbWcgY2xhc3M9XCJwYXVzZVBsYXlCdXR0b25cIiB0eXBlPVwicGxheVwiIHNyYz1cIi9pbWFnZS9pY29uczgtcGxheS1idXR0b24tNTAucG5nXCIgYWx0PVwicGF1c2UvcGxheSBpY29uXCI+XG4gICAgPGRpdiBjbGFzcz1cImluZm9cIj5DbGljayBpY29ucyBhbmQgbnVtYmVycyB0byBjaGFuZ2UgdHJhY2sgc291bmQ8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiY2xlYXJCdXR0b25cIj5DbGVhciBHcmlkPC9idXR0b24+XG4gICAgPHN0eWxlPlxuICAgICAgICAuc2VxdWVuY2VyIHtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgICAgICAgICAgd2lkdGg6IDUwMDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBhdmVuaXI7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB1c2VyLWRyYWc6IG5vbmU7IFxuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIC1vLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5pbnN0cnVtZW50TG9nIHtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBhdmVuaXI7XG4gICAgICAgIH1cbiAgICAgICAgLmxvZ3Mge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgfVxuXG4gICAgICAgIC5sb2dzIGRpdiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogNzBweDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNzBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbmZvIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgLmlucHV0cyB7XG4gICAgICAgICAgICBmbG9hdDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmlucHV0cyBpbnB1dHtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweDtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA5cHg7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDlweDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOHB4O1xuICAgICAgICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmdyaWQge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAgXG4gICAgICAgIH1cblxuICAgICAgICAuY2VsbCB7XG4gICAgICAgICAgICBoZWlnaHQ6IDE1cHg7XG4gICAgICAgICAgICB3aWR0aDogMTVweDtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgICAgbWFyZ2luOiAxcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pbnN0cnVtZW50SWNvbntcbiAgICAgICAgICAgIGhlaWdodDogMTVweDtcbiAgICAgICAgICAgIHdpZHRoOiAxNXB4O1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC00MnB4O1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogLTFweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuXG4gICAgICAgIH1cblxuICAgICAgICAuaW5zdHJ1bWVudE51bWJlciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTE4cHg7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICAucGF1c2VQbGF5QnV0dG9uIHtcbiAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgICAgICAgIHdpZHRoOiAzMHB4XG4gICAgICAgIH1cblxuICAgICAgICAuY2xlYXJCdXR0b24ge1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jaGFuZ2VOb3RlTWVudSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9kaXY+XG5gXG5tb2R1bGUuZXhwb3J0cy50ZW1wbGF0ZSA9IHRlbXBsYXRlXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy90ZW1wbGF0ZXMvc2VxdWVuY2VyVGVtcGxhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ })
/******/ ]);